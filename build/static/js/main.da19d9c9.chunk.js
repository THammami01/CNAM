(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{1139:function(e,t,n){},1765:function(e,t,n){"use strict";n.r(t);var a,r=n(1),s=n.n(r),o=n(35),i=n.n(o),c=(n(1139),n(20)),l=n(1770),d=n(94),u=n(50),b=n(18);!function(e){e.SET_MSG="SET_MSG",e.SET_IS_DARK_THEME="SET_IS_DARK_THEME",e.SET_SELECTED_LANG="SET_SELECTED_LANG",e.SET_ACCESS_TOKEN="SET_ACCESS_TOKEN",e.SET_CONNECTED_USER="SET_CONNECTED_USER"}(a||(a={}));var m=a,j=function(e){return{type:m.SET_ACCESS_TOKEN,payload:e}},h=function(e){return{type:m.SET_CONNECTED_USER,payload:e}},f=n(14),p=n(404),g=n.n(p),O=n(512),y=n(317),x=n(699);O.a.use(x.a).use(y.e).init({resources:{en:{translation:{"Welcome !":"Welcome !","Light Theme":"Light Theme","Dark Theme":"Dark Theme","Registration Number":"Registration Number","Enter your registration number":"Enter your registration number",Password:"Password","Enter your password":"Enter your password","Please fill all fields before you press on the log in button.":"Please fill all fields before you press on the log in button.","Log in":"Log in","Invalid Logins":"Invalid Logins","Please check your entries.":"Please check your entries.","Error Occured":"Error Occured","Couldn't log in.":"Couldn't log in.","Loading..":"Loading..","Entering patient data":"Entering patient data","Belongs to:":"Belongs to:","CNSS/CNRPS Number:":"CNSS/CNRPS Number:",Lastname:"Lastname:",Firstname:"Firstname:","Consultation date:":"Consultation date:",Save:"Save","Enter number..":"Enter number..","Enter patient's lastname":"Enter patient's lastname","Enter patient's firstname":"Enter patient's firstname","Select consultation date":"Select consultation date",Referencing:"Referencing","Empty fields":"Empty fields","Please fill all fields first.":"Please fill all fields first.","Saved successfully":"Saved successfully",Reference:"Reference","Referencing date":"Referencing date","Patient details":"Patient details",OK:"OK","Log out":"Log out",Reset:"Reset",Entry:"Entry","Enter the reference":"Enter the reference",Continue:"Continue","Consultation data":"Consultation data","Doctor data":"Doctor data","List of meds and analyzes":"List of meds and analyzes","CNAM Code:":"CNAM Code:","Enter CNAM code":"Enter CNAM Code","Doctor (firstname and lastname):":"Doctor (firstname and lastname):","Enter doctor's firstname and lastname":"Enter doctor's firstname and lastname","Go Back":"Go Back",Validate:"Validate","Add New Row":"Add New Row","Delete All":"Delete All","Table contains no rows":"Table contains no rows","Nothing to be deleted.":"Nothing to be deleted.",Code:"Code","Med/Analysis Name":"Med/Analysis Name","Purchase Date":"Purchase Date","Pharmacy/Labo Nb":"Pharmacy/Labo Nb",More:"More","Consultation not found":"Consultation not found","No consultation registered with this data.":"No consultation registered with this data.",Price:"Price",TND:"TND","Table is empty":"Table is empty","Fill the table first.":"Fill the table first.","Something went wrong.":"Something went wrong.","Please fill all fields.":"Please fill all fields.",Add:"Add",Cancel:"Cancel","Enter code":"Enter code","Enter med or analysis name":"Enter med or analysis name","Enter pharmacy/labo nb..":"Enter pharmacy/labo nb..","Enter price":"Enter price","Select purchase date":"Select purchase date",Result:"Result",Reason:"Reason",Accepted:"Accepted",Rejected:"Rejected","Medical check up":"Medical check up","Total prices are more than the limit (200 TND).":"Total prices are more than the limit (200 TND).","Consultation date exceeds 60 Days.":"Consultation date exceeds 60 Days."}},fr:{translation:{"Welcome !":"Bienvenue !","Light Theme":"Th\xe8me Clair","Dark Theme":"Th\xe8me Sombre","Registration Number":"Matricule","Enter your registration number":"Entrer votre matricule",Password:"Mot de passe","Enter your password":"Entrer votre mot de passe","Please fill all fields before you press on the log in button.":"Veuillez remplir tous les champs avant d'appuyer sur le bouton de connexion.","Log in":"Se connecter","Invalid Logins":"Combinison invalide","Please check your entries.":"V\xe9rifiez vos donn\xe9es.","Error Occured":"Erreur est survenue","Couldn't log in.":"Impossible de se connecter.","Loading..":"Chargement..","Entering patient data":"Saisie des donn\xe9es d'un patient","Belongs to:":"Appartient \xe0:","CNSS/CNRPS Number:":"Num\xe9ro CNSS/CNRPS:",Lastname:"Nom:",Firstname:"Pr\xe9nom:","Consultation date:":"Date de consultation:",Save:"Enregistrer","Enter number..":"Entrer le num\xe9ro..","Enter patient's lastname":"Entrer le nom du patient","Enter patient's firstname":"Entrer le pr\xe9nom du patient","Select consultation date":"S\xe9lectionner la date..",Referencing:"R\xe9f\xe9rencement","Empty fields":"Champs vides","Please fill all fields first.":"Veuillez remplir tous les champs d'abord.","Saved successfully":"Enregistr\xe9 avec succ\xe8s",Reference:"R\xe9f\xe9rence","Referencing date":"Date de r\xe9f\xe9rencement","Patient details":"Details du patient",OK:"OK","Log out":"Se d\xe9connecter",Reset:"R\xe9initialiser",Entry:"Saisie","Enter the reference":"Entrer le r\xe9f\xe9rence",Continue:"Continuer","Consultation data":"Donn\xe9es du consultation","Doctor data":"Donn\xe9es du docteur","List of meds and analyzes":"Liste des m\xe9dicaments et analyses","CNAM Code:":"Code CNAM:","Enter CNAM code":"Entrer le code CNAM","Doctor (firstname and lastname):":"Docteur (nom et pr\xe9nom):","Enter doctor's firstname and lastname":"Entrer le nom et pr\xe9nom du docteur","Go Back":"Retourner",Validate:"Valider","Add New Row":"Ajouter une nouvelle ligne","Delete All":"Supprimer tous","Table contains no rows":"La table ne contient aucune ligne","Nothing to be deleted.":"Rien \xe0 supprimer.",Code:"Code","Med/Analysis Name":"Nom du Med/Analyse","Purchase Date":"Date d'achat","Pharmacy/Labo Nb":"Nb du Pharmacie/Labo",More:"Plus","Consultation not found":"Consultation introuvalbe","No consultation registered with this data.":"Aucune consultation enregistr\xe9e avec ces donn\xe9es.",Price:"Prix",TND:"DT","Table is empty":"La table est vide","Fill the table first.":"Remplir la table d'abord.","Something went wrong.":"Quelque chose s'est mal pass\xe9.","Please fill all fields.":"Veuillez remplir tous les champs.",Add:"Ajouter",Cancel:"Annuler","Enter code":"Entrer le code","Enter med or analysis name":"Entrer le nom du med/analysis","Enter pharmacy/labo nb..":"Entrer le nb du ph../labo..","Enter price":"Entrer le prix","Select purchase date":"Selectionner la date d'a..",Result:"R\xe9sultat",Reason:"Raison",Accepted:"Accept\xe9",Rejected:"R\xe9fus\xe9","Medical check up":"Contr\xf4le m\xe9dical","Total prices are more than the limit (200 TND).":"Total des prix est sup\xe9rieur \xe0 la limite (200 TND).","Consultation date exceeds 60 Days.":"La date de consultation d\xe9passe 60 jours."}},ar:{translation:{"Welcome !":"\u0645\u0631\u062d\u0628\u0627 !","Light Theme":"\u0648\u0636\u0639 \u0627\u0644\u0636\u0648\u0621","Dark Theme":"\u0627\u0644\u0648\u0636\u0639 \u0627\u0644\u0645\u0638\u0644\u0645","Registration Number":"\u0631\u0642\u0645 \u0627\u0644\u062a\u0633\u062c\u064a\u0644","Enter your registration number":"\u0623\u062f\u062e\u0644 \u0631\u0642\u0645 \u0627\u0644\u062a\u0633\u062c\u064a\u0644",Password:"\u0643\u0644\u0645\u0629 \u0627\u0644\u0633\u0631","Enter your password":"\u0623\u062f\u062e\u0644 \u0643\u0644\u0645\u0629 \u0627\u0644\u0633\u0631","Please fill all fields before you press on the log in button.":"\u064a\u0631\u062c\u0649 \u0645\u0644\u0621 \u062c\u0645\u064a\u0639 \u0627\u0644\u062d\u0642\u0648\u0644 \u0642\u0628\u0644 \u0627\u0644\u0636\u063a\u0637 \u0639\u0644\u0649 \u0632\u0631 \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644.","Log in":"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644","Invalid Logins":"\u0645\u0639\u0637\u064a\u0627\u062a \u062f\u062e\u0648\u0644 \u063a\u064a\u0631 \u0635\u062d\u064a\u062d\u0629","Please check your entries.":"\u064a\u0631\u062c\u0649 \u0627\u0644\u062a\u062d\u0642\u0642 \u0645\u0646 \u0627\u0644\u0645\u0639\u0637\u064a\u0627\u062a \u0627\u0644\u062e\u0627\u0635\u0629 \u0628\u0643.","Error Occured":"\u062d\u062f\u062b \u062e\u0637\u0623","Couldn't log in.":"\u062a\u0639\u0630\u0631 \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644.","Loading..":"\u062a\u062d\u0645\u064a\u0644..","Entering patient data":"\u0625\u062f\u062e\u0627\u0644 \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0645\u0631\u064a\u0636","Belongs to:":"\u064a\u0646\u062a\u0645\u064a \u0625\u0644\u0649:","CNSS/CNRPS Number:":"\u0631\u0642\u0645 CNSS/CNRPS:",Lastname:"\u0627\u0644\u0644\u0642\u0628:",Firstname:"\u0627\u0644\u0625\u0633\u0645:","Consultation date:":"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0625\u0633\u062a\u0634\u0627\u0631\u0629:",Save:"\u062a\u0633\u062c\u064a\u0644","Enter number..":"\u0623\u062f\u062e\u0644 \u0627\u0644\u0631\u0642\u0645..","Enter patient's lastname":"\u0623\u062f\u062e\u0644 \u0644\u0642\u0628 \u0627\u0644\u0645\u0631\u064a\u0636","Enter patient's firstname":"\u0623\u062f\u062e\u0644 \u0625\u0633\u0645 \u0627\u0644\u0645\u0631\u064a\u0636","Select consultation date":"\u0625\u062e\u0637\u0631 \u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0625\u0633\u062a\u0634\u0627\u0631\u0629",Referencing:"\u0627\u0644\u0645\u0631\u062c\u0639\u064a\u0629","Empty fields":"\u062d\u0642\u0648\u0644 \u0641\u0627\u0631\u063a\u0629","Please fill all fields first.":"\u064a\u0631\u062c\u0649 \u0645\u0644\u0621 \u062c\u0645\u064a\u0639 \u0627\u0644\u062d\u0642\u0648\u0644 \u0627\u0648\u0644\u0627.","Saved successfully":"\u062d\u0641\u0638 \u0628\u0646\u062c\u0627\u062d",Reference:"\u0627\u0644\u0645\u0631\u062c\u0639","Referencing date":"\u0627\u0644\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0645\u0631\u062c\u0639\u064a","Patient details":"\u0645\u0639\u0637\u064a\u0627\u062a \u0627\u0644\u0645\u0631\u064a\u0636",OK:"\u062d\u0633\u0646\u0627","Log out":"\u062a\u0633\u062c\u064a\u0644 \u062e\u0631\u0648\u062c",Reset:"\u0625\u0639\u0627\u062f\u0629",Entry:"\u0627\u0644\u062a\u0642\u064a\u064a\u062f","Enter the reference":"\u0623\u062f\u062e\u0644 \u0627\u0644\u0645\u0631\u062c\u0639",Continue:"\u0625\u0633\u062a\u0645\u0631","Consultation data":"\u0645\u0639\u0637\u064a\u0627\u062a \u0627\u0644\u0625\u0633\u062a\u0634\u0627\u0631\u0629","Doctor data":"\u0645\u0639\u0637\u064a\u0627\u062a \u0627\u0644\u062f\u0643\u062a\u0648\u0631","List of meds and analyzes":"\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0623\u062f\u0648\u064a\u0629 \u0648\u0627\u0644\u062a\u062d\u0644\u064a\u0644\u0627\u062a","CNAM Code:":"\u0631\u0642\u0645 \u0627\u0644\u0640CNAM:","Enter CNAM code":"\u0623\u062f\u062e\u0644 \u0631\u0642\u0645 \u0627\u0644\u0640CNAM","Doctor (firstname and lastname):":"\u0627\u0644\u0637\u0628\u064a\u0628 (\u0627\u0644\u0625\u0633\u0645 \u0648\u0627\u0644\u0644\u0642\u0628):","Enter doctor's firstname and lastname":"\u0623\u062f\u062e\u0644 \u0625\u0633\u0645 \u0648\u0644\u0642\u0628 \u0627\u0644\u062f\u0643\u062a\u0648\u0631","Go Back":"\u0627\u0644\u0639\u0648\u062f\u0629",Validate:"\u0625\u0631\u0633\u0627\u0644","Add New Row":"\u0623\u0636\u0641 \u0635\u0641\u0627 \u0622\u062e\u0631","Delete All":"\u062d\u0630\u0641 \u0627\u0644\u0643\u0644","Table contains no rows":"\u0644\u0627 \u064a\u062d\u062a\u0648\u064a \u0627\u0644\u062c\u062f\u0648\u0644 \u0639\u0644\u0649 \u0635\u0641\u0648\u0641","Nothing to be deleted.":"\u0644\u0627 \u0634\u064a\u0621 \u0644\u064a\u062a\u0645 \u062d\u0630\u0641\u0647.",Code:"\u0627\u0644\u0631\u0645\u0632","Med/Analysis Name":"\u0625\u0633\u0645 \u0627\u0644\u062f\u0648\u0627\u0621/\u0627\u0644\u062a\u062d\u0644\u064a\u0644","Purchase Date":"\u062a\u0627\u0631\u064a\u062d \u0627\u0644\u0634\u0631\u0627\u0621","Pharmacy/Labo Nb":"\u0631\u0642\u0645 \u0627\u0644\u0635\u064a\u062f\u0644\u0629/\u0627\u0644\u0645\u062e\u0628\u0631",More:"\u0627\u0644\u0645\u0632\u064a\u062f","Consultation not found":"\u0644\u0645 \u064a\u062a\u0645 \u0627\u0644\u0639\u062b\u0648\u0631 \u0639\u0644\u0649 \u0627\u0644\u0625\u0633\u062a\u0634\u0627\u0631\u0629","No consultation registered with this data.":"\u0644\u0627 \u0625\u0633\u062a\u0634\u0627\u0631\u0629 \u0645\u0633\u062c\u0644\u0629 \u0645\u0639 \u0647\u0630\u0647 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a.",Price:"\u0627\u0644\u062b\u0645\u0646",TND:"\u062f.\u062a.","Table is empty":"\u0627\u0644\u062c\u062f\u0648\u0644 \u0641\u0627\u0631\u063a","Fill the table first.":"\u0625\u0645\u0644\u0623 \u0627\u0644\u062c\u062f\u0648\u0644 \u0623\u0648\u0644\u0627","Something went wrong.":"\u0647\u0646\u0627\u0643 \u062e\u0637\u0623 \u0645\u0627.","Please fill all fields.":"\u064a\u0631\u062c\u0649 \u0645\u0644\u0621 \u062c\u0645\u064a\u0639 \u0627\u0644\u062d\u0642\u0648\u0644.",Add:"\u0627\u0644\u0625\u0636\u0627\u0641\u0629",Cancel:"\u0627\u0644\u0639\u0648\u062f\u0629","Enter code":"\u0623\u062f\u062e\u0644 \u0627\u0644\u0631\u0645\u0632","Enter med or analysis name":"\u0623\u062f\u062e\u0644 \u0625\u0633\u0645 \u0627\u0644\u062f\u0648\u0627\u0621 \u0623\u0648 \u0627\u0644\u062a\u062d\u0644\u064a\u0644","Enter pharmacy/labo nb..":"\u0623\u062f\u062e\u0644 \u0631\u0642\u0645 \u0627\u0644\u0635\u064a\u062f\u0644\u064a\u0629/\u0627\u0644\u0645\u062e\u0628\u0631","Enter price":"\u0623\u062f\u062e\u0644 \u0627\u0644\u062b\u0645\u0646","Select purchase date":"\u0625\u062e\u062a\u0631 \u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0634\u0631\u0627\u0621",Result:"\u0627\u0644\u0646\u062a\u064a\u062c\u0629",Reason:"\u0627\u0644\u0633\u0628\u0628",Accepted:"\u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629",Rejected:"\u0627\u0644\u0631\u0641\u0636","Medical check up":"\u0641\u062d\u0635 \u0637\u0628\u064a","Total prices are more than the limit (200 TND).":"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0623\u0633\u0639\u0627\u0631 \u0623\u0643\u062b\u0631 \u0645\u0646 \u0627\u0644\u062d\u062f (200 \u062f\u064a\u0646\u0627\u0631).","Consultation date exceeds 60 Days.":"\u062a\u062c\u0627\u0648\u0632 \u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0625\u0633\u062a\u0634\u0627\u0631\u0629 60 \u064a\u0648\u0645\u0627"}}}});var E=O.a,S=n.p+"static/media/cnam.b4d20a67.jpg",T=n(9),C=function(){var e=b.q.Text,t=Object(d.c)((function(e){return e.global.isDarkTheme})),n=Object(d.b)(),a=Object(u.g)(),s=Object(d.c)((function(e){return e.global.accessToken})),o=Object(d.c)((function(e){return e.global.connectedUser})),i=Object(l.a)().t,p=Object(r.useState)(!1),O=Object(c.a)(p,2),y=O[0],x=O[1],C=function(e){var t;E.changeLanguage(e),n((t=e,{type:m.SET_SELECTED_LANG,payload:t}))};return Object(T.jsxs)("div",{className:"app-header",children:[Object(T.jsx)("img",{src:S,alt:"CNAM"}),Object(T.jsxs)("div",{className:"header-right-side",children:[Object(T.jsxs)("div",{className:"first-row",children:[Object(T.jsxs)("div",{className:"theme-switcher",children:[Object(T.jsx)(e,{children:i(t?"Dark Theme":"Light Theme")}),Object(T.jsx)(b.n,{defaultChecked:t,size:"default",onChange:function(){return n((e=!t,{type:m.SET_IS_DARK_THEME,payload:e}));var e}})]}),Object(T.jsxs)("div",{className:"lang-switcher",children:[Object(T.jsx)(g.a,{code:"tn",onClick:function(){return C("ar")}}),Object(T.jsx)(g.a,{code:"gb",onClick:function(){return C("en")}}),Object(T.jsx)(g.a,{code:"fr",onClick:function(){return C("fr")}})]}),s&&Object(T.jsx)(b.b,{theme:"borderless",icon:Object(T.jsx)(f.r,{rotate:180}),style:{marginRight:10},size:"small",onClick:function(){x(!0),setTimeout((function(){localStorage.removeItem("accessToken"),n(j(null)),n(h(null)),x(!1),a.push("/")}),1e3)},loading:y,className:"btn-log-out",children:i("Log out")})]}),o&&Object(T.jsxs)("div",{className:"second-row",children:[Object(T.jsx)(b.a,{size:"small",color:"light-blue",style:{margin:4,cursor:"default"},children:"".concat(o.firstname[0]).concat(o.lastname[0])}),Object(T.jsx)(e,{type:"tertiary",children:"".concat(o.firstname," ").concat(o.lastname)}),Object(T.jsx)(b.p,{color:"blue",children:"ref"===o.service?i("Referencing"):i("Entry")})]})]})]})},v=n(5),N=n(6),D=n(202),R=n.n(D),k=function(){function e(){Object(v.a)(this,e)}return Object(N.a)(e,null,[{key:"login",value:function(e){return R.a.post("".concat(this.baseRoute,"/login"),e)}},{key:"verifyAccessToken",value:function(e){return R.a.get("".concat(this.baseRoute,"/verify-token"),{headers:{Authorization:e}})}}]),e}();k.baseRoute="/api/auth";var A=function(e){var t=e.showError,n=b.q.Text,a=Object(l.a)().t,s=Object(u.g)(),o=Object(d.b)(),i=Object(r.useState)(!1),m=Object(c.a)(i,2),f=m[0],p=m[1];Object(r.useEffect)((function(){var e=localStorage.getItem("accessToken");e&&k.verifyAccessToken(e).then((function(e){o(h(e.data.user)),s.push("/data-".concat(e.data.user.service))}))}),[]);return Object(T.jsx)(b.e,{onSubmit:function(e){return function(e){p(!0),setTimeout((function(){k.login(e).then((function(e){200===e.data.statusCode?(localStorage.setItem("accessToken",e.data.accessToken),o(j(e.data.accessToken)),o(h(e.data.user)),s.push("data-".concat(e.data.user.service))):t(a("Invalid Logins"),a("Please check your entries."))})).catch((function(e){t(a("Error Occured"),a("Couldn't log in."))})).finally((function(){p(!1)}))}),1500)}(e)},style:{maxWidth:400,marginTop:"2rem"},children:function(e){e.formState,e.values,e.formApi;return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(b.e.Input,{field:"registrationNb",label:a("Registration Number"),style:{width:"100%"},size:"large",placeholder:a("Enter your registration number")}),Object(T.jsx)(b.e.Input,{field:"password",mode:"password",label:a("Password"),style:{width:"100%"},size:"large",placeholder:a("Enter your password")}),Object(T.jsx)("div",{style:{paddingBottom:"1rem"},children:Object(T.jsx)(n,{type:"tertiary",children:a("Please fill all fields before you press on the log in button.")})}),Object(T.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Object(T.jsx)("p",{}),Object(T.jsx)(b.b,{htmlType:"submit",theme:"solid",type:"tertiary",size:"large",loading:f,children:a("Log in")})]})]})}})},w=n(62),L=function(){function e(){Object(v.a)(this,e)}return Object(N.a)(e,null,[{key:"checkConsultationData",value:function(e){var t=localStorage.getItem("accessToken");return R.a.post("".concat(this.baseRoute,"/check-consultation-data"),e,{headers:{Authorization:t}})}},{key:"saveEntryData",value:function(e){var t=localStorage.getItem("accessToken");return R.a.post("".concat(this.baseRoute,"/save-entry-data"),e,{headers:{Authorization:t}})}}]),e}();L.baseRoute="/api/entry";var P=function(e){var t=e.onContinue,n=e.showError,a=e.entryData,s=e.setEntryData,o=Object(l.a)().t,i=Object(r.useState)(!1),d=Object(c.a)(i,2),u=d[0],m=d[1];return Object(T.jsx)(b.e,{onSubmit:function(e){return function(e){m(!0),setTimeout((function(){if(!e.consultationDate||!e.ref)return n(o("Empty fields"),o("Please fill all fields first.")),void m(!1);L.checkConsultationData(e).then((function(r){if(!r.data.isConsultationRegistered)return n(o("Consultation not found"),o("No consultation registered with this data.")),void m(!1);s(Object(w.a)(Object(w.a)({},a),{},{consultationData:e})),t()})).catch((function(e){n(o("Error Occured"),o("Something went wrong.")),m(!1)}))}),500)}(e)},style:{marginTop:"1.5rem"},children:function(e){e.formState,e.values,e.formApi;return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(b.e.DatePicker,{field:"consultationDate",label:o("Consultation date:"),placeholder:o("Select consultation date"),format:"dd-MM-yyyy",fieldStyle:{padding:".25rem 0",maxWidth:"300px"}}),Object(T.jsx)(b.e.InputNumber,{field:"ref",label:o("Reference")+":",placeholder:o("Enter the reference"),fieldStyle:{padding:".25rem 0",maxWidth:"300px"}}),Object(T.jsxs)("div",{className:"step-btns",children:[Object(T.jsx)(b.b,{htmlType:"submit",size:"large",style:{marginTop:".5rem",display:"block"},loading:u,children:o("Continue")}),Object(T.jsx)(b.b,{theme:"borderless",htmlType:"reset",size:"large",style:{marginTop:".5rem",padding:"0",background:"none"},children:o("Reset")})]})]})}})},M=function(e){var t=e.onContinue,n=e.onGoBack,a=e.showError,s=e.entryData,o=e.setEntryData,i=Object(l.a)().t,d=Object(r.useState)(!1),u=Object(c.a)(d,2),m=u[0],j=u[1];return Object(T.jsx)(b.e,{onSubmit:function(e){return function(e){j(!0),setTimeout((function(){if(!e.cnamCode||!e.drName)return a(i("Empty fields"),i("Please fill all fields first.")),void j(!1);o(Object(w.a)(Object(w.a)({},s),{},{drData:e})),t()}),500)}(e)},style:{marginTop:"1.5rem"},children:function(e){e.formState,e.values,e.formApi;return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(b.e.InputNumber,{field:"cnamCode",label:i("CNAM Code:"),placeholder:i("Enter CNAM code"),fieldStyle:{padding:".25rem 0",maxWidth:"300px"}}),Object(T.jsx)(b.e.Input,{field:"drName",label:i("Doctor (firstname and lastname):"),placeholder:i("Enter doctor's firstname and lastname"),fieldStyle:{padding:".25rem 0",maxWidth:"300px"}}),Object(T.jsxs)("div",{className:"step-btns",children:[Object(T.jsx)(b.b,{htmlType:"submit",size:"large",style:{marginTop:".5rem",display:"block"},loading:m,children:i("Continue")}),Object(T.jsx)(b.b,{theme:"borderless",size:"large",style:{marginTop:".5rem",padding:"0",background:"none"},onClick:n,children:i("Go Back")}),Object(T.jsx)(b.b,{theme:"borderless",htmlType:"reset",size:"large",style:{marginTop:".5rem",padding:"0",background:"none"},children:i("Reset")})]})]})}})},I=n(7),_=function(){var e=!1;return("dark"===localStorage.getItem("selectedTheme")||"dark"===document.body.getAttribute("theme-mode"))&&(e=!0),e},z=function(e){localStorage.setItem("selectedTheme",e?"dark":"light")},F=function(e){return localStorage.setItem("selectedLang",e)},W=function(e){var t=new Date(e);if("Invalid Date"!==t.toString())return"".concat(t.getDate().toString().padStart(2,"0"),"-").concat((t.getMonth()+1).toString().padStart(2,"0"),"-").concat(t.getFullYear())},B=function(e){return function(e){var t=new Date;return t.setHours(0,0,0,0),t.getTime()-e.getTime()>5184e6}(e.consultationData.consultationDate)?{status:"Rejected",reason:"Consultation date exceeds 60 Days."}:e.medsAndAnaylizesData.map((function(e){return+e.price})).reduce((function(e,t){return e+t}),0)>200?{status:"Medical check up",reason:"Total prices are more than the limit (200 TND)."}:{status:"Accepted"}},G=function(e){var t=e.tableRows,n=e.setTableRows,a=Object(l.a)().t,r=[{title:a("Code"),dataIndex:"codeMedOrAnalysis",render:function(e){return Object(T.jsx)("span",{children:e})}},{title:a("Med/Analysis Name"),dataIndex:"name"},{title:a("Purchase Date"),dataIndex:"purchaseDate",render:function(e){return Object(T.jsx)("span",{children:W(e)})}},{title:a("Pharmacy/Labo Nb"),dataIndex:"pharmacyOrLaboNb"},{title:a("Price"),dataIndex:"price",render:function(e){return Object(T.jsxs)("span",{children:[e," ",a("TND")]})}},{title:a("More"),render:function(e,t){return Object(T.jsx)(b.b,{icon:Object(T.jsx)(f.q,{}),theme:"borderless",onClick:function(){return s(t.key)}})}}],s=function(e){var a=Object(I.a)(t);if(null!=e){var r=a.findIndex((function(t){return t.key===e}));r>-1&&(a.splice(r,1),n(a))}};return Object(T.jsx)(b.o,{columns:r,dataSource:t,pagination:!1,className:"table-cmpnt"})},K=n(702),V=function(e){var t=e.handleAddNewRow,n=e.onClose,a=b.q.Text,s=Object(l.a)().t,o=Object(r.useState)(!1),i=Object(c.a)(o,2),d=i[0],u=i[1],m=Object(r.useState)(!1),j=Object(c.a)(m,2),h=j[0],f=j[1];return Object(T.jsx)("div",{style:{padding:".1rem"},children:Object(T.jsx)(b.e,{onSubmit:function(e){return function(e){u(!0),f(!1),setTimeout((function(){if(!e.codeMedOrAnalysis||!e.name||!e.purchaseDate||!e.pharmacyOrLaboNb||!e.price)return u(!1),void f(!0);e.key=Object(K.a)(),t(e),n()}),500)}(e)},children:function(e){e.formState,e.values,e.formApi;return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(b.e.Input,{field:"name",placeholder:s("Enter med or analysis name"),fieldStyle:{padding:".25rem 0",maxWidth:"300px"},noLabel:!0}),Object(T.jsxs)(b.k,{spacing:"tight",children:[Object(T.jsx)(b.e.InputNumber,{field:"codeMedOrAnalysis",placeholder:s("Enter code"),fieldStyle:{padding:".25rem 0",maxWidth:"300px"},noLabel:!0}),Object(T.jsx)(b.e.DatePicker,{field:"purchaseDate",className:"purchase-date-from-popover",placeholder:s("Select purchase date"),format:"dd-MM-yyyy",fieldStyle:{padding:".25rem 0",maxWidth:"300px"},noLabel:!0})]}),Object(T.jsx)("br",{}),Object(T.jsxs)(b.k,{spacing:"tight",children:[Object(T.jsx)(b.e.InputNumber,{field:"pharmacyOrLaboNb",placeholder:s("Enter pharmacy/labo nb.."),fieldStyle:{padding:".25rem 0",maxWidth:"300px"},noLabel:!0}),Object(T.jsx)(b.e.InputNumber,{field:"price",placeholder:s("Enter price"),fieldStyle:{padding:".25rem 0",maxWidth:"300px"},noLabel:!0})]}),Object(T.jsxs)("div",{className:"step-btns",style:{alignItems:"center"},children:[Object(T.jsx)(b.b,{htmlType:"submit",loading:d,type:"primary",style:{marginTop:".5rem",padding:"1.175rem .75rem"},children:s("Add")}),Object(T.jsx)(b.b,{theme:"borderless",htmlType:"reset",style:{marginTop:".5rem",padding:"0",background:"none"},onClick:n,children:s("Cancel")}),h&&Object(T.jsx)(a,{type:"quaternary",style:{transform:"translateY(4px)"},children:s("Please fill all fields.")})]})]})}})})},q=function(e){var t=e.onConfirm,n=e.onGoBack,a=e.showError,s=e.entryData,o=e.setEntryData,i=Object(l.a)().t,d=Object(r.useState)([]),u=Object(c.a)(d,2),m=u[0],j=u[1],h=Object(r.useState)(!1),f=Object(c.a)(h,2),p=f[0],g=f[1],O=Object(r.useState)(!1),y=Object(c.a)(O,2),x=y[0],E=y[1],S=Object(r.useState)(!1),C=Object(c.a)(S,2),v=C[0],N=C[1];return Object(T.jsxs)("div",{style:{marginTop:"1.5rem"},children:[Object(T.jsx)(G,{tableRows:m,setTableRows:j}),Object(T.jsxs)("div",{className:"step-btns",style:{marginTop:".25rem"},children:[Object(T.jsx)(b.b,{htmlType:"submit",size:"large",style:{marginTop:".5rem",display:"block"},onClick:function(){N(!0),setTimeout((function(){if(!m.length)return a(i("Table is empty"),i("Fill the table first.")),void N(!1);var e=Object(w.a)(Object(w.a)({},s),{},{medsAndAnaylizesData:m});o(e),N(!1),t(e)}),500)},loading:v,theme:"solid",type:"tertiary",children:i("Validate")}),Object(T.jsx)(b.b,{theme:"borderless",size:"large",style:{marginTop:".5rem",padding:"0",background:"none"},onClick:n,children:i("Go Back")}),Object(T.jsx)(b.i,{visible:p,content:Object(T.jsx)(V,{handleAddNewRow:function(e){j([].concat(Object(I.a)(m),[e]))},onClose:function(){return g(!1)}}),trigger:"custom",showArrow:!0,arrowPointAtCenter:!1,position:"bottomLeft",children:Object(T.jsx)(b.b,{theme:"borderless",size:"large",style:{marginTop:".5rem",padding:"0",background:"none"},onClick:function(){return g((function(e){return!e}))},children:i("Add New Row")})}),Object(T.jsx)(b.b,{theme:"borderless",size:"large",style:{marginTop:".5rem",padding:"0",background:"none"},onClick:function(){E(!0),setTimeout((function(){0===m.length&&a(i("Table contains no rows"),i("Nothing to be deleted.")),j([]),E(!1)}),500)},loading:x,children:i("Delete All")})]})]})},U=function(e){var t=e.entryData,n=e.isVisible,a=e.onClose,r=b.q.Text,s=Object(l.a)().t,o=Object(T.jsx)(b.b,{type:"primary",theme:"solid",onClick:a,children:s("OK")});return Object(T.jsx)(b.g,{title:s("Saved successfully"),visible:n,maskClosable:!1,closeIcon:Object(T.jsx)(T.Fragment,{}),footer:o,icon:Object(T.jsx)(f.F,{size:"extra-large",style:{color:"var(--semi-color-success)"}}),className:"info-modal",children:t.res&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)(r,{type:"danger",children:[s("Result"),": ",Object(T.jsx)("span",{children:s(t.res.status)})]}),Object(T.jsx)("br",{}),t.res.reason&&Object(T.jsxs)(r,{type:"danger",children:[s("Reason"),": ",Object(T.jsx)("span",{children:s(t.res.reason)})]})]})})},H=function(e){var t=e.showError,n=b.q.Title,a=Object(l.a)().t,s=Object(u.g)(),o=Object(d.c)((function(e){return e.global.accessToken})),i=Object(r.useState)(0),m=Object(c.a)(i,2),j=m[0],h=m[1],f=Object(r.useState)({consultationData:null,drData:null,medsAndAnaylizesData:null,res:null}),p=Object(c.a)(f,2),g=p[0],O=p[1],y=Object(r.useState)(!1),x=Object(c.a)(y,2),E=x[0],S=x[1];Object(r.useEffect)((function(){o||s.push("/login")}),[]);return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(n,{heading:3,style:{margin:"2rem 0 1rem"},children:a("Entry")}),Object(T.jsx)("div",{style:{display:"flex",flexWrap:"wrap"},className:"entry-steps",children:Object(T.jsxs)(b.m,{type:"nav",current:j,style:{margin:"auto",flexWrap:"wrap"},children:[Object(T.jsx)(b.m.Step,{title:a("Consultation data")}),Object(T.jsx)(b.m.Step,{title:a("Doctor data")}),Object(T.jsx)(b.m.Step,{title:a("List of meds and analyzes")})]})}),0===j&&Object(T.jsx)(P,{onContinue:function(){return h((function(){return j+1}))},showError:t,entryData:g,setEntryData:O}),1===j&&Object(T.jsx)(M,{onContinue:function(){return h((function(){return j+1}))},onGoBack:function(){return h((function(){return j-1}))},showError:t,entryData:g,setEntryData:O}),2===j&&Object(T.jsx)(q,{onConfirm:function(e){var n=Object(w.a)(Object(w.a)({},e),{},{res:B(e)});L.saveEntryData(n).then((function(e){O(n),S(!0)})).catch((function(e){t(a("Error Occured"),a("Something went wrong."))}))},onGoBack:function(){return h((function(){return j-1}))},showError:t,entryData:g,setEntryData:O}),E&&Object(T.jsx)(U,{entryData:g,isVisible:E,onClose:function(){S(!1),h(0)}})]})},J=function(e){var t=e.refRes,n=e.isVisible,a=e.onClose,r=b.q.Text,s=Object(l.a)().t,o=Object(T.jsx)(b.b,{type:"primary",theme:"solid",onClick:a,children:s("OK")});return Object(T.jsxs)(b.g,{title:s("Saved successfully"),visible:n,maskClosable:!1,closeIcon:Object(T.jsx)(T.Fragment,{}),footer:o,icon:Object(T.jsx)(f.F,{size:"extra-large",style:{color:"var(--semi-color-success)"}}),className:"info-modal",children:[Object(T.jsxs)(r,{type:"danger",children:[s("Reference"),": ",Object(T.jsx)("span",{style:{userSelect:"all"},children:null===t||void 0===t?void 0:t.ref})]}),Object(T.jsx)("br",{}),Object(T.jsxs)(r,{type:"danger",children:[s("Referencing date"),": ",Object(T.jsx)("span",{style:{userSelect:"all"},children:n&&W(null===t||void 0===t?void 0:t.refDate)})]}),Object(T.jsx)(b.d,{style:{marginTop:".75rem",transform:"translateX(-1rem)"},children:Object(T.jsxs)(b.d.Panel,{header:s("Patient details"),itemKey:"1",children:[Object(T.jsxs)("p",{children:[s("Belongs to:")," ",null===t||void 0===t?void 0:t.belongsTo.toUpperCase()]}),Object(T.jsxs)("p",{children:[s("CNSS/CNRPS Number:")," ",null===t||void 0===t?void 0:t.belongsToNb]}),Object(T.jsxs)("p",{children:[s("Firstname")," ",null===t||void 0===t?void 0:t.firstname]}),Object(T.jsxs)("p",{children:[s("Lastname")," ",null===t||void 0===t?void 0:t.lastname]}),Object(T.jsxs)("p",{children:[s("Consultation date:")," ",n&&W(null===t||void 0===t?void 0:t.consultationDate)]})]})})]})},Y=function(){function e(){Object(v.a)(this,e)}return Object(N.a)(e,null,[{key:"addRef",value:function(e){var t=localStorage.getItem("accessToken");return R.a.post("".concat(this.baseRoute,"/"),e,{headers:{Authorization:t}})}}]),e}();Y.baseRoute="/api/ref";var Q=function(e){var t=e.showError,n=b.q.Title,a=Object(l.a)().t,s=Object(r.useState)(!1),o=Object(c.a)(s,2),i=o[0],m=o[1],j=Object(r.useState)(null),h=Object(c.a)(j,2),f=h[0],p=h[1],g=Object(u.g)(),O=Object(d.c)((function(e){return e.global.accessToken})),y=Object(r.useState)(!1),x=Object(c.a)(y,2),E=x[0],S=x[1];Object(r.useEffect)((function(){O||g.push("/login")}),[]);return Object(T.jsx)(b.e,{onSubmit:function(e){return function(e){S(!0);var n=e.belongsTo,r=e.belongsToNb,s=e.lastname,o=e.firstname,i=e.consultationDate;setTimeout((function(){if(!n||!r||!s||!o||!i)return t(a("Empty fields"),a("Please fill all fields first.")),void S(!1);Y.addRef(e).then((function(e){m(!0),p(e.data)})).catch((function(e){t(a("Error Occured"),a("Something went wrong."))})).finally((function(){S(!1)}))}),500)}(e)},style:{marginTop:"2rem"},children:function(e){e.formState,e.values,e.formApi;return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(n,{heading:3,style:{margin:"8px 0"},children:a("Referencing")}),Object(T.jsxs)(b.k,{spacing:"loose",style:{marginTop:"1rem"},children:[Object(T.jsxs)(b.e.RadioGroup,{field:"belongsTo",label:a("Belongs to:"),style:{padding:".25rem 0"},fieldStyle:{padding:0,margin:0},children:[Object(T.jsx)(b.j,{value:"cnss",children:"CNSS"}),Object(T.jsx)(b.j,{value:"cnrps",style:{marginRight:".5rem"},children:"CNRPS"})]}),Object(T.jsx)(b.e.InputNumber,{field:"belongsToNb",label:a("CNSS/CNRPS Number:"),placeholder:a("Enter number.."),fieldStyle:{padding:0,margin:0}})]}),Object(T.jsx)(b.e.Input,{field:"firstname",label:a("Firstname"),placeholder:a("Enter patient's firstname"),fieldStyle:{padding:".25rem 0",maxWidth:"300px"}}),Object(T.jsx)(b.e.Input,{field:"lastname",label:a("Lastname"),placeholder:a("Enter patient's lastname"),fieldStyle:{padding:".25rem 0",maxWidth:"300px"}}),Object(T.jsx)(b.e.DatePicker,{field:"consultationDate",label:a("Consultation date:"),placeholder:a("Select consultation date"),format:"dd-MM-yyyy",fieldStyle:{padding:".25rem 0",maxWidth:"300px"}}),Object(T.jsxs)("div",{className:"step-btns",children:[Object(T.jsx)(b.b,{htmlType:"submit",loading:E,theme:"solid",type:"tertiary",size:"large",style:{marginTop:".5rem"},children:a("Save")}),Object(T.jsx)(b.b,{theme:"borderless",htmlType:"reset",size:"large",style:{marginTop:".5rem",padding:"0",background:"none"},children:a("Reset")})]}),i&&Object(T.jsx)(J,{refRes:f,isVisible:i,onClose:function(){m(!1)}})]})}})},X=function(){var e=Object(r.useState)(!0),t=Object(c.a)(e,2),n=t[0],a=t[1],s=Object(d.c)((function(e){return e.global.selectedLang})),o=Object(l.a)().t,i=Object(d.b)(),m=Object(u.g)(),f=function(e,t){b.h.destroyAll(),b.h.error({title:e,content:t,duration:3,position:"bottom"})};Object(r.useEffect)((function(){var e=localStorage.getItem("accessToken");e&&k.verifyAccessToken(e).then((function(t){i(j(e)),i(h(t.data.user)),m.push("/data-".concat(t.data.user.service))}))}),[]),Object(r.useEffect)((function(){p(),setTimeout((function(){a(!1)}),3e3)}),[]),Object(r.useEffect)((function(){document.body.setAttribute("class",s)}),[s]);var p=function(){return _()&&document.body.setAttribute("theme-mode","dark")};return Object(T.jsx)(b.l,{tip:o("Loading.."),spinning:n,children:Object(T.jsx)(b.c,{style:{borderRadius:0,minHeight:"100vh"},bodyStyle:{padding:0},children:Object(T.jsxs)("div",{className:"root-container ".concat(s),children:[Object(T.jsx)(C,{}),!n&&Object(T.jsxs)(u.d,{children:[Object(T.jsx)(u.b,{exact:!0,path:"/",children:Object(T.jsx)(u.a,{to:{pathname:"/login"}})}),Object(T.jsx)(u.b,{exact:!0,path:"/login",children:Object(T.jsx)(A,{showError:f})}),Object(T.jsx)(u.b,{exact:!0,path:"/data-entry",children:Object(T.jsx)(H,{showError:f})}),Object(T.jsx)(u.b,{exact:!0,path:"/data-ref",children:Object(T.jsx)(Q,{showError:f})}),Object(T.jsx)(u.b,{children:Object(T.jsx)(u.a,{to:{pathname:"/"}})})]})]})})})},Z=n(220),$=n(696),ee=document.body,te={msg:"Hello, World !",isDarkTheme:_(),selectedLang:localStorage.getItem("selectedLang")||"fr",accessToken:null,connectedUser:null},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case m.SET_MSG:return Object(w.a)(Object(w.a)({},e),{},{msg:a});case m.SET_IS_DARK_THEME:return a?(ee.setAttribute("theme-mode","dark"),z(!0)):(ee.removeAttribute("theme-mode"),z(!1)),Object(w.a)(Object(w.a)({},e),{},{isDarkTheme:a});case m.SET_SELECTED_LANG:return F(a),Object(w.a)(Object(w.a)({},e),{},{selectedLang:a});case m.SET_ACCESS_TOKEN:return Object(w.a)(Object(w.a)({},e),{},{accessToken:a});case m.SET_CONNECTED_USER:return Object(w.a)(Object(w.a)({},e),{},{connectedUser:a});default:return e}},ae=Object(Z.combineReducers)({global:ne}),re=Object(Z.createStore)(ae,Object($.composeWithDevTools)()),se=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,1771)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),s(e),o(e)}))},oe=n(377),ie=n(697);i.a.render(Object(T.jsx)(s.a.StrictMode,{children:Object(T.jsx)(d.a,{store:re,children:Object(T.jsx)(oe.a,{children:Object(T.jsx)(b.f,{locale:ie.a,children:Object(T.jsx)(X,{})})})})}),document.getElementById("root")),se()}},[[1765,1,2]]]);
//# sourceMappingURL=main.da19d9c9.chunk.js.map