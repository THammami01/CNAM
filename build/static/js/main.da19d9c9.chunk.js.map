{"version":3,"sources":["store/actions/action-types.ts","store/actions/action-creators.ts","translations/i18n.ts","translations/en/translations.ts","translations/fr/translations.ts","translations/ar/translations.ts","assets/imgs/cnam.jpg","common/AppHeader.tsx","services/AuthService.ts","pages/Login.tsx","services/EntryService.ts","components/DataEntry/Step1.tsx","components/DataEntry/Step2.tsx","utils/funcs.ts","components/DataEntry/MedsAndAnaylizesTable.tsx","components/DataEntry/AddRowPopoverContent.tsx","components/DataEntry/Step3.tsx","components/DataEntry/EntryResModal.tsx","pages/DataEntry.tsx","components/DataRef/RefResModal.tsx","services/RefService.ts","pages/DataRef.tsx","App.tsx","store/reducers/global.reducer.ts","store/reducers/index.ts","store/index.ts","reportWebVitals.ts","index.tsx"],"names":["ActionTypes","setAccessToken","payload","type","_","SET_ACCESS_TOKEN","setConnectedUser","SET_CONNECTED_USER","i18n","use","LanguageDetector","initReactI18next","init","resources","en","translation","Password","Lastname","Firstname","Save","Referencing","Reference","OK","Reset","Entry","Continue","Validate","Code","More","Price","TND","Add","Cancel","Result","Reason","Accepted","Rejected","fr","ar","AppHeader","Text","Typography","isDarkTheme","useSelector","store","global","dispatch","useDispatch","history","useHistory","accessToken","connectedUser","t","useTranslation","useState","isLoggingOut","setIsLoggingOut","handleLangChange","lang","changeLanguage","SET_SELECTED_LANG","className","src","cnam","alt","defaultChecked","size","onChange","SET_IS_DARK_THEME","code","onClick","theme","icon","rotate","style","marginRight","setTimeout","localStorage","removeItem","push","loading","color","margin","cursor","firstname","lastname","service","AuthService","loginFormData","axios","post","this","baseRoute","get","headers","Authorization","Login","showError","isLoggingIn","setIsLoggingIn","useEffect","getItem","verifyAccessToken","then","res","data","user","onSubmit","values","login","statusCode","setItem","catch","_err","finally","handleSubmit","maxWidth","marginTop","formState","formApi","Input","field","label","width","placeholder","mode","paddingBottom","display","justifyContent","alignItems","htmlType","EntryService","consultationData","entryData","Step1","onContinue","setEntryData","isCheckingConsultationData","setIsCheckingConsultationData","consultationDate","ref","checkConsultationData","isConsultationRegistered","err","localOnContinue","DatePicker","format","fieldStyle","padding","InputNumber","background","Step2","onGoBack","isCheckingFormData","setIsCheckingFormData","cnamCode","drName","drData","getThemeFromLocalStorage","document","body","getAttribute","saveThemeInLocalStorage","saveSelectedLangInLocalStorage","selectedLang","getRegularDateStr","date","tempDate","Date","toString","getDate","padStart","getMonth","getFullYear","getEntryRes","finalEntryData","today","setHours","getTime","exceeds60Days","status","reason","medsAndAnaylizesData","map","el","price","reduce","a","b","MedsAndAnaylizesTable","tableRows","setTableRows","columns","title","dataIndex","render","codeMedOrAnalysis","text","_text","record","removeRecord","key","tempTableRows","idx","findIndex","splice","dataSource","pagination","AddRowPopoverContent","handleAddNewRow","onClose","isSaving","setIsSaving","isWarningVisible","setIsWarningVisible","name","purchaseDate","pharmacyOrLaboNb","nanoid","localHandleAddNewRow","noLabel","spacing","transform","Step3","onConfirm","isPopoverVisible","setIsPopoverVisible","isDeletingAll","setIsDeletingAll","isCheckingTableRows","setIsCheckingTableRows","length","visible","content","trigger","showArrow","arrowPointAtCenter","position","currIsPopoverVisible","EntryResModal","isVisible","footer","maskClosable","closeIcon","DataEntry","Title","currentStep","setCurrentStep","isEntryResModalVisible","setIsEntryResModalVisible","heading","flexWrap","current","Step","tempEntryData","saveEntryData","_res","RefResModal","refRes","userSelect","refDate","Panel","header","itemKey","belongsTo","toUpperCase","belongsToNb","RefService","refFormData","DataRef","isRefResModalVisible","setIsRefResModalVisible","setRefRes","addRef","RadioGroup","value","App","isSpinning","setIsSpinning","Notification","destroyAll","error","duration","initTheme","setAttribute","tip","spinning","borderRadius","minHeight","bodyStyle","exact","path","to","pathname","initialState","msg","globalReducer","state","action","SET_MSG","removeAttribute","rootReducers","combineReducers","createStore","composeWithDevTools","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","locale","en_US","getElementById"],"mappings":"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","file":"static/js/main.da19d9c9.chunk.js","sourcesContent":["enum ActionTypes {\r\n  SET_MSG = \"SET_MSG\",\r\n  SET_IS_DARK_THEME = \"SET_IS_DARK_THEME\",\r\n  SET_SELECTED_LANG = \"SET_SELECTED_LANG\",\r\n  SET_ACCESS_TOKEN = \"SET_ACCESS_TOKEN\",\r\n  SET_CONNECTED_USER = \"SET_CONNECTED_USER\",\r\n}\r\n\r\nexport default ActionTypes;\r\n","import _ from \"./action-types\";\r\n\r\nexport const setMsg = (payload: string) => ({\r\n  type: _.SET_MSG,\r\n  payload,\r\n});\r\n\r\nexport const setIsDarkTheme = (payload: boolean) => ({\r\n  type: _.SET_IS_DARK_THEME,\r\n  payload,\r\n});\r\n\r\nexport const setSelectedLang = (payload: string) => ({\r\n  type: _.SET_SELECTED_LANG,\r\n  payload,\r\n});\r\n\r\nexport const setAccessToken = (payload: null | string) => ({\r\n  type: _.SET_ACCESS_TOKEN,\r\n  payload,\r\n});\r\n\r\nexport const setConnectedUser = (payload: any) => ({\r\n  type: _.SET_CONNECTED_USER,\r\n  payload,\r\n});\r\n","import i18n from \"i18next\";\r\nimport { initReactI18next } from \"react-i18next\";\r\nimport LanguageDetector from \"i18next-browser-languagedetector\";\r\n\r\nimport { TRANSLATIONS_EN, TRANSLATIONS_FR, TRANSLATIONS_AR } from \"./translations\";\r\n\r\ni18n\r\n  .use(LanguageDetector)\r\n  .use(initReactI18next)\r\n  .init({\r\n    resources: {\r\n      en: {\r\n        translation: TRANSLATIONS_EN,\r\n      },\r\n      fr: {\r\n        translation: TRANSLATIONS_FR,\r\n      },\r\n      ar: {\r\n        translation: TRANSLATIONS_AR,\r\n      },\r\n    },\r\n  });\r\n\r\nexport default i18n;\r\n","import { ITranslations } from \"./../translations\";\r\n\r\nexport const TRANSLATIONS_EN: ITranslations = {\r\n  \"Welcome !\": \"Welcome !\",\r\n  \"Light Theme\": \"Light Theme\",\r\n  \"Dark Theme\": \"Dark Theme\",\r\n  \"Registration Number\": \"Registration Number\",\r\n  \"Enter your registration number\": \"Enter your registration number\",\r\n  Password: \"Password\",\r\n  \"Enter your password\": \"Enter your password\",\r\n  \"Please fill all fields before you press on the log in button.\":\r\n    \"Please fill all fields before you press on the log in button.\",\r\n  \"Log in\": \"Log in\",\r\n  \"Invalid Logins\": \"Invalid Logins\",\r\n  \"Please check your entries.\": \"Please check your entries.\",\r\n  \"Error Occured\": \"Error Occured\",\r\n  \"Couldn't log in.\": \"Couldn't log in.\",\r\n  \"Loading..\": \"Loading..\",\r\n  \"Entering patient data\": \"Entering patient data\",\r\n  \"Belongs to:\": \"Belongs to:\",\r\n  \"CNSS/CNRPS Number:\": \"CNSS/CNRPS Number:\",\r\n  Lastname: \"Lastname:\",\r\n  Firstname: \"Firstname:\",\r\n  \"Consultation date:\": \"Consultation date:\",\r\n  Save: \"Save\",\r\n  \"Enter number..\": \"Enter number..\",\r\n  \"Enter patient's lastname\": \"Enter patient's lastname\",\r\n  \"Enter patient's firstname\": \"Enter patient's firstname\",\r\n  \"Select consultation date\": \"Select consultation date\",\r\n  Referencing: \"Referencing\",\r\n  \"Empty fields\": \"Empty fields\",\r\n  \"Please fill all fields first.\": \"Please fill all fields first.\",\r\n  \"Saved successfully\": \"Saved successfully\",\r\n  Reference: \"Reference\",\r\n  \"Referencing date\": \"Referencing date\",\r\n  \"Patient details\": \"Patient details\",\r\n  OK: \"OK\",\r\n  \"Log out\": \"Log out\",\r\n  Reset: \"Reset\",\r\n  Entry: \"Entry\",\r\n  \"Enter the reference\": \"Enter the reference\",\r\n  Continue: \"Continue\",\r\n  \"Consultation data\": \"Consultation data\",\r\n  \"Doctor data\": \"Doctor data\",\r\n  \"List of meds and analyzes\": \"List of meds and analyzes\",\r\n  \"CNAM Code:\": \"CNAM Code:\",\r\n  \"Enter CNAM code\": \"Enter CNAM Code\",\r\n  \"Doctor (firstname and lastname):\": \"Doctor (firstname and lastname):\",\r\n  \"Enter doctor's firstname and lastname\":\r\n    \"Enter doctor's firstname and lastname\",\r\n  \"Go Back\": \"Go Back\",\r\n  Validate: \"Validate\",\r\n  \"Add New Row\": \"Add New Row\",\r\n  \"Delete All\": \"Delete All\",\r\n  \"Table contains no rows\": \"Table contains no rows\",\r\n  \"Nothing to be deleted.\": \"Nothing to be deleted.\",\r\n  Code: \"Code\",\r\n  \"Med/Analysis Name\": \"Med/Analysis Name\",\r\n  \"Purchase Date\": \"Purchase Date\",\r\n  \"Pharmacy/Labo Nb\": \"Pharmacy/Labo Nb\",\r\n  More: \"More\",\r\n  \"Consultation not found\": \"Consultation not found\",\r\n  \"No consultation registered with this data.\":\r\n    \"No consultation registered with this data.\",\r\n  Price: \"Price\",\r\n  TND: \"TND\",\r\n  \"Table is empty\": \"Table is empty\",\r\n  \"Fill the table first.\": \"Fill the table first.\",\r\n  \"Something went wrong.\": \"Something went wrong.\",\r\n  \"Please fill all fields.\": \"Please fill all fields.\",\r\n  Add: \"Add\",\r\n  Cancel: \"Cancel\",\r\n  \"Enter code\": \"Enter code\",\r\n  \"Enter med or analysis name\": \"Enter med or analysis name\",\r\n  \"Enter pharmacy/labo nb..\": \"Enter pharmacy/labo nb..\",\r\n  \"Enter price\": \"Enter price\",\r\n  \"Select purchase date\": \"Select purchase date\",\r\n  Result: \"Result\",\r\n  Reason: \"Reason\",\r\n  Accepted: \"Accepted\",\r\n  Rejected: \"Rejected\",\r\n  \"Medical check up\": \"Medical check up\",\r\n  \"Total prices are more than the limit (200 TND).\":\r\n    \"Total prices are more than the limit (200 TND).\",\r\n  \"Consultation date exceeds 60 Days.\":\r\n    \"Consultation date exceeds 60 Days.\",\r\n};\r\n","import { ITranslations } from \"./../translations\";\r\n\r\nexport const TRANSLATIONS_FR: ITranslations = {\r\n  \"Welcome !\": \"Bienvenue !\",\r\n  \"Light Theme\": \"Thème Clair\",\r\n  \"Dark Theme\": \"Thème Sombre\",\r\n  \"Registration Number\": \"Matricule\",\r\n  \"Enter your registration number\": \"Entrer votre matricule\",\r\n  Password: \"Mot de passe\",\r\n  \"Enter your password\": \"Entrer votre mot de passe\",\r\n  \"Please fill all fields before you press on the log in button.\":\r\n    \"Veuillez remplir tous les champs avant d'appuyer sur le bouton de connexion.\",\r\n  \"Log in\": \"Se connecter\",\r\n  \"Invalid Logins\": \"Combinison invalide\",\r\n  \"Please check your entries.\": \"Vérifiez vos données.\",\r\n  \"Error Occured\": \"Erreur est survenue\",\r\n  \"Couldn't log in.\": \"Impossible de se connecter.\",\r\n  \"Loading..\": \"Chargement..\",\r\n  \"Entering patient data\": \"Saisie des données d'un patient\",\r\n  \"Belongs to:\": \"Appartient à:\",\r\n  \"CNSS/CNRPS Number:\": \"Numéro CNSS/CNRPS:\",\r\n  Lastname: \"Nom:\",\r\n  Firstname: \"Prénom:\",\r\n  \"Consultation date:\": \"Date de consultation:\",\r\n  Save: \"Enregistrer\",\r\n  \"Enter number..\": \"Entrer le numéro..\",\r\n  \"Enter patient's lastname\": \"Entrer le nom du patient\",\r\n  \"Enter patient's firstname\": \"Entrer le prénom du patient\",\r\n  \"Select consultation date\": \"Sélectionner la date..\",\r\n  Referencing: \"Référencement\",\r\n  \"Empty fields\": \"Champs vides\",\r\n  \"Please fill all fields first.\": \"Veuillez remplir tous les champs d'abord.\",\r\n  \"Saved successfully\": \"Enregistré avec succès\",\r\n  Reference: \"Référence\",\r\n  \"Referencing date\": \"Date de référencement\",\r\n  \"Patient details\": \"Details du patient\",\r\n  OK: \"OK\",\r\n  \"Log out\": \"Se déconnecter\",\r\n  Reset: \"Réinitialiser\",\r\n  Entry: \"Saisie\",\r\n  \"Enter the reference\": \"Entrer le référence\",\r\n  Continue: \"Continuer\",\r\n  \"Consultation data\": \"Données du consultation\",\r\n  \"Doctor data\": \"Données du docteur\",\r\n  \"List of meds and analyzes\": \"Liste des médicaments et analyses\",\r\n  \"CNAM Code:\": \"Code CNAM:\",\r\n  \"Enter CNAM code\": \"Entrer le code CNAM\",\r\n  \"Doctor (firstname and lastname):\": \"Docteur (nom et prénom):\",\r\n  \"Enter doctor's firstname and lastname\": \"Entrer le nom et prénom du docteur\",\r\n  \"Go Back\": \"Retourner\",\r\n  Validate: \"Valider\",\r\n  \"Add New Row\": \"Ajouter une nouvelle ligne\",\r\n  \"Delete All\": \"Supprimer tous\",\r\n  \"Table contains no rows\": \"La table ne contient aucune ligne\",\r\n  \"Nothing to be deleted.\": \"Rien à supprimer.\",\r\n  Code: \"Code\",\r\n  \"Med/Analysis Name\": \"Nom du Med/Analyse\",\r\n  \"Purchase Date\": \"Date d'achat\",\r\n  \"Pharmacy/Labo Nb\": \"Nb du Pharmacie/Labo\",\r\n  More: \"Plus\",\r\n  \"Consultation not found\": \"Consultation introuvalbe\",\r\n  \"No consultation registered with this data.\":\r\n    \"Aucune consultation enregistrée avec ces données.\",\r\n  Price: \"Prix\",\r\n  TND: \"DT\",\r\n  \"Table is empty\": \"La table est vide\",\r\n  \"Fill the table first.\": \"Remplir la table d'abord.\",\r\n  \"Something went wrong.\": \"Quelque chose s'est mal passé.\",\r\n  \"Please fill all fields.\": \"Veuillez remplir tous les champs.\",\r\n  Add: \"Ajouter\",\r\n  Cancel: \"Annuler\",\r\n  \"Enter code\": \"Entrer le code\",\r\n  \"Enter med or analysis name\": \"Entrer le nom du med/analysis\",\r\n  \"Enter pharmacy/labo nb..\": \"Entrer le nb du ph../labo..\",\r\n  \"Enter price\": \"Entrer le prix\",\r\n  \"Select purchase date\": \"Selectionner la date d'a..\",\r\n  Result: \"Résultat\",\r\n  Reason: \"Raison\",\r\n  Accepted: \"Accepté\",\r\n  Rejected: \"Réfusé\",\r\n  \"Medical check up\": \"Contrôle médical\",\r\n  \"Total prices are more than the limit (200 TND).\": \"Total des prix est supérieur à la limite (200 TND).\",\r\n  \"Consultation date exceeds 60 Days.\": \"La date de consultation dépasse 60 jours.\",\r\n};\r\n","import { ITranslations } from \"./../translations\";\r\n\r\nexport const TRANSLATIONS_AR: ITranslations = {\r\n  \"Welcome !\": \"مرحبا !\",\r\n  \"Light Theme\": \"وضع الضوء\",\r\n  \"Dark Theme\": \"الوضع المظلم\",\r\n  \"Registration Number\": \"رقم التسجيل\",\r\n  \"Enter your registration number\": \"أدخل رقم التسجيل\",\r\n  Password: \"كلمة السر\",\r\n  \"Enter your password\": \"أدخل كلمة السر\",\r\n  \"Please fill all fields before you press on the log in button.\":\r\n    \"يرجى ملء جميع الحقول قبل الضغط على زر تسجيل الدخول.\",\r\n  \"Log in\": \"تسجيل الدخول\",\r\n  \"Invalid Logins\": \"معطيات دخول غير صحيحة\",\r\n  \"Please check your entries.\": \"يرجى التحقق من المعطيات الخاصة بك.\",\r\n  \"Error Occured\": \"حدث خطأ\",\r\n  \"Couldn't log in.\": \"تعذر تسجيل الدخول.\",\r\n  \"Loading..\": \"تحميل..\",\r\n  \"Entering patient data\": \"إدخال بيانات المريض\",\r\n  \"Belongs to:\": \"ينتمي إلى:\",\r\n  \"CNSS/CNRPS Number:\": \"رقم CNSS/CNRPS:\",\r\n  Lastname: \"اللقب:\",\r\n  Firstname: \"الإسم:\",\r\n  \"Consultation date:\": \"تاريخ الإستشارة:\",\r\n  Save: \"تسجيل\",\r\n  \"Enter number..\": \"أدخل الرقم..\",\r\n  \"Enter patient's lastname\": \"أدخل لقب المريض\",\r\n  \"Enter patient's firstname\": \"أدخل إسم المريض\",\r\n  \"Select consultation date\": \"إخطر تاريخ الإستشارة\",\r\n  Referencing: \"المرجعية\",\r\n  \"Empty fields\": \"حقول فارغة\",\r\n  \"Please fill all fields first.\": \"يرجى ملء جميع الحقول اولا.\",\r\n  \"Saved successfully\": \"حفظ بنجاح\",\r\n  Reference: \"المرجع\",\r\n  \"Referencing date\": \"التاريخ المرجعي\",\r\n  \"Patient details\": \"معطيات المريض\",\r\n  OK: \"حسنا\",\r\n  \"Log out\": \"تسجيل خروج\",\r\n  Reset: \"إعادة\",\r\n  Entry: \"التقييد\",\r\n  \"Enter the reference\": \"أدخل المرجع\",\r\n  Continue: \"إستمر\",\r\n  \"Consultation data\": \"معطيات الإستشارة\",\r\n  \"Doctor data\": \"معطيات الدكتور\",\r\n  \"List of meds and analyzes\": \"قائمة الأدوية والتحليلات\",\r\n  \"CNAM Code:\": \"رقم الـCNAM:\",\r\n  \"Enter CNAM code\": \"أدخل رقم الـCNAM\",\r\n  \"Doctor (firstname and lastname):\": \"الطبيب (الإسم واللقب):\",\r\n  \"Enter doctor's firstname and lastname\": \"أدخل إسم ولقب الدكتور\",\r\n  \"Go Back\": \"العودة\",\r\n  Validate: \"إرسال\",\r\n  \"Add New Row\": \"أضف صفا آخر\",\r\n  \"Delete All\": \"حذف الكل\",\r\n  \"Table contains no rows\": \"لا يحتوي الجدول على صفوف\",\r\n  \"Nothing to be deleted.\": \"لا شيء ليتم حذفه.\",\r\n  Code: \"الرمز\",\r\n  \"Med/Analysis Name\": \"إسم الدواء/التحليل\",\r\n  \"Purchase Date\": \"تاريح الشراء\",\r\n  \"Pharmacy/Labo Nb\": \"رقم الصيدلة/المخبر\",\r\n  More: \"المزيد\",\r\n  \"Consultation not found\": \"لم يتم العثور على الإستشارة\",\r\n  \"No consultation registered with this data.\":\r\n    \"لا إستشارة مسجلة مع هذه البيانات.\",\r\n  Price: \"الثمن\",\r\n  TND: \"د.ت.\",\r\n  \"Table is empty\": \"الجدول فارغ\",\r\n  \"Fill the table first.\": \"إملأ الجدول أولا\",\r\n  \"Something went wrong.\": \"هناك خطأ ما.\",\r\n  \"Please fill all fields.\": \"يرجى ملء جميع الحقول.\",\r\n  Add: \"الإضافة\",\r\n  Cancel: \"العودة\",\r\n  \"Enter code\": \"أدخل الرمز\",\r\n  \"Enter med or analysis name\": \"أدخل إسم الدواء أو التحليل\",\r\n  \"Enter pharmacy/labo nb..\": \"أدخل رقم الصيدلية/المخبر\",\r\n  \"Enter price\": \"أدخل الثمن\",\r\n  \"Select purchase date\": \"إختر تاريخ الشراء\",\r\n  Result: \"النتيجة\",\r\n  Reason: \"السبب\",\r\n  Accepted: \"الموافقة\",\r\n  Rejected: \"الرفض\",\r\n  \"Medical check up\": \"فحص طبي\",\r\n  \"Total prices are more than the limit (200 TND).\": \"إجمالي الأسعار أكثر من الحد (200 دينار).\",\r\n  \"Consultation date exceeds 60 Days.\": \"تجاوز تاريخ الإستشارة 60 يوما\",\r\n};\r\n","export default __webpack_public_path__ + \"static/media/cnam.b4d20a67.jpg\";","import { FunctionComponent, useState } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { setAccessToken, setConnectedUser, setIsDarkTheme, setSelectedLang } from \"../store/actions/action-creators\";\r\nimport { RootState } from \"../store/reducers\";\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Switch, Typography, Tooltip, Button, Avatar, Tag } from \"@douyinfe/semi-ui\";\r\nimport { IconExit } from \"@douyinfe/semi-icons\";\r\nimport Flag from \"react-world-flags\";\r\nimport i18n from \"../translations/i18n\";\r\nimport cnam from \"../assets/imgs/cnam.jpg\";\r\nimport { useHistory } from \"react-router\";\r\n\r\nconst AppHeader: FunctionComponent = () => {\r\n  const { Text } = Typography;\r\n  const isDarkTheme = useSelector((store: RootState) => store.global.isDarkTheme);\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const accessToken = useSelector((store: RootState) => store.global.accessToken);\r\n  const connectedUser = useSelector((store: RootState) => store.global.connectedUser);\r\n  const { t } = useTranslation();\r\n  const [isLoggingOut, setIsLoggingOut] = useState(false);\r\n\r\n  const handleChangeTheme = () => dispatch(setIsDarkTheme(!isDarkTheme));\r\n\r\n  const handleLogOut = () => {\r\n    setIsLoggingOut(true);\r\n    setTimeout(() => {\r\n      localStorage.removeItem(\"accessToken\");\r\n      dispatch(setAccessToken(null));\r\n      dispatch(setConnectedUser(null));\r\n      setIsLoggingOut(false);\r\n      history.push(\"/\");\r\n    }, 1000);\r\n  };\r\n\r\n  const handleLangChange = (lang: string) => {\r\n    i18n.changeLanguage(lang);\r\n    dispatch(setSelectedLang(lang));\r\n  };\r\n\r\n  return (\r\n    <div className=\"app-header\">\r\n      <img src={cnam} alt=\"CNAM\" />\r\n      <div className=\"header-right-side\">\r\n        <div className=\"first-row\">\r\n          <div className=\"theme-switcher\">\r\n            <Text>{isDarkTheme ? t(\"Dark Theme\") : t(\"Light Theme\")}</Text>\r\n            <Switch defaultChecked={isDarkTheme} size=\"default\" onChange={handleChangeTheme} />\r\n          </div>\r\n          <div className=\"lang-switcher\">\r\n            {/* <Tooltip content={\"عربي\"}>\r\n            <div> */}\r\n            <Flag code=\"tn\" onClick={() => handleLangChange(\"ar\")} />\r\n            {/* </div>\r\n          </Tooltip> */}\r\n\r\n            {/* <Tooltip content={\"English\"}>\r\n            <div style={{transform: \"translateY(2px)\"}}> */}\r\n            <Flag code=\"gb\" onClick={() => handleLangChange(\"en\")} />\r\n            {/* </div>\r\n          </Tooltip> */}\r\n\r\n            {/* <Tooltip content={\"Français\"}>\r\n            <div style={{transform: \"translateY(2px)\"}}> */}\r\n            <Flag code=\"fr\" onClick={() => handleLangChange(\"fr\")} />\r\n            {/* </div>\r\n          </Tooltip> */}\r\n          </div>\r\n\r\n          {accessToken &&\r\n            <Button\r\n              theme=\"borderless\"\r\n              icon={<IconExit rotate={180} />}\r\n              style={{ marginRight: 10 }}\r\n              size=\"small\"\r\n              onClick={handleLogOut}\r\n              loading={isLoggingOut}\r\n              className=\"btn-log-out\"\r\n            >\r\n              {t(\"Log out\")}\r\n            </Button>\r\n          }\r\n        </div>\r\n        {connectedUser &&\r\n          <div className=\"second-row\">\r\n            <Avatar size=\"small\" color=\"light-blue\" style={{ margin: 4, cursor: \"default\" }}>{`${connectedUser.firstname[0]}${connectedUser.lastname[0]}`}</Avatar>\r\n            <Text type=\"tertiary\">{`${connectedUser.firstname} ${connectedUser.lastname}`}</Text>\r\n            <Tag color=\"blue\">\r\n              {connectedUser.service === \"ref\" ? t(\"Referencing\") : t(\"Entry\")}\r\n            </Tag>\r\n          </div>}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AppHeader;\r\n","import axios from \"axios\";\r\nimport ILoginReqData from \"../interfaces/ILoginReqData\";\r\n\r\nexport default class AuthService {\r\n  static baseRoute = \"/api/auth\";\r\n\r\n  static login(loginFormData: ILoginReqData) {\r\n    return axios.post(`${this.baseRoute}/login`, loginFormData);\r\n  }\r\n\r\n  static verifyAccessToken(accessToken: string) {\r\n    return axios.get(`${this.baseRoute}/verify-token`, {\r\n      headers: { Authorization: accessToken },\r\n    });\r\n  }\r\n}\r\n","import { FunctionComponent, useState, useEffect } from \"react\";\r\nimport { Button, Form, Typography } from \"@douyinfe/semi-ui\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport AuthService from \"../services/AuthService\";\r\nimport ILoginReqData from \"../interfaces/ILoginReqData\";\r\nimport { setAccessToken, setConnectedUser } from \"../store/actions/action-creators\";\r\n\r\ninterface DataEntryProps {\r\n  showError: (title: string, content: string) => void;\r\n}\r\n\r\nconst Login: FunctionComponent<DataEntryProps> = ({ showError }) => {\r\n  const { Text } = Typography;\r\n  const { t } = useTranslation();\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  const [isLoggingIn, setIsLoggingIn] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const accessToken = localStorage.getItem(\"accessToken\");\r\n    if (accessToken)\r\n      AuthService.verifyAccessToken(accessToken)\r\n        .then((res) => {\r\n          dispatch(setConnectedUser(res.data.user));\r\n          history.push(`/data-${res.data.user.service}`);\r\n        });\r\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  const handleSubmit = (values: ILoginReqData) => {\r\n    setIsLoggingIn(true);\r\n\r\n    setTimeout(() => {\r\n      AuthService.login(values)\r\n        .then((res) => {\r\n          if (res.data.statusCode === 200) {\r\n            localStorage.setItem(\"accessToken\", res.data.accessToken);\r\n            dispatch(setAccessToken(res.data.accessToken));\r\n            dispatch(setConnectedUser(res.data.user));\r\n            history.push(`data-${res.data.user.service}`);\r\n          } else {\r\n            showError(t(\"Invalid Logins\"), t(\"Please check your entries.\"));\r\n          }\r\n        })\r\n        .catch((_err) => {\r\n          showError(t(\"Error Occured\"), t(\"Couldn't log in.\"));\r\n        }).finally(() => {\r\n          setIsLoggingIn(false);\r\n        });\r\n    }, 1500);\r\n  };\r\n\r\n  return (\r\n    <Form onSubmit={values => handleSubmit(values as ILoginReqData)} style={{ maxWidth: 400, marginTop: \"2rem\" }}>\r\n      {({ formState, values, formApi }) => (\r\n        <>\r\n          <Form.Input\r\n            field=\"registrationNb\"\r\n            label={t(\"Registration Number\")}\r\n            style={{ width: \"100%\" }}\r\n            size=\"large\"\r\n            placeholder={t<string>(\"Enter your registration number\")}>\r\n          </Form.Input>\r\n\r\n          <Form.Input\r\n            field=\"password\"\r\n            mode=\"password\"\r\n            label={t(\"Password\")}\r\n            style={{ width: \"100%\" }}\r\n            size=\"large\"\r\n            placeholder={t<string>(\"Enter your password\")}>\r\n          </Form.Input>\r\n\r\n          <div style={{ paddingBottom: \"1rem\" }}>\r\n            <Text type=\"tertiary\" >{t(\"Please fill all fields before you press on the log in button.\")}</Text>\r\n          </div>\r\n\r\n          <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\" }}>\r\n            <p>\r\n            </p>\r\n            <Button htmlType=\"submit\" theme=\"solid\" type=\"tertiary\" size=\"large\" loading={isLoggingIn}>\r\n              {t(\"Log in\")}\r\n            </Button>\r\n          </div>\r\n        </>\r\n      )}\r\n    </Form>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import axios from \"axios\";\r\nimport IConsultationData from \"../interfaces/IConsultationData\";\r\nimport IEntryData from \"../interfaces/IEntryData\";\r\n\r\nexport default class EntryService {\r\n  static baseRoute = \"/api/entry\";\r\n\r\n  static checkConsultationData(consultationData: IConsultationData) {\r\n    const accessToken = localStorage.getItem(\"accessToken\");\r\n\r\n    return axios.post(`${this.baseRoute}/check-consultation-data`, consultationData, {\r\n      headers: { Authorization: accessToken },\r\n    });\r\n  }\r\n\r\n  static saveEntryData(entryData: IEntryData) {\r\n    const accessToken = localStorage.getItem(\"accessToken\");\r\n\r\n    return axios.post(`${this.baseRoute}/save-entry-data`, entryData, {\r\n      headers: { Authorization: accessToken },\r\n    });\r\n  }\r\n}\r\n","import { FunctionComponent, useState } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { Button, Form } from \"@douyinfe/semi-ui\";\r\nimport EntryService from \"../../services/EntryService\";\r\n\r\ninterface Step1Props {\r\n  onContinue: any;\r\n  showError: (title: string, content: string) => void;\r\n  entryData: any;\r\n  setEntryData: any;\r\n}\r\n\r\nconst Step1: FunctionComponent<Step1Props> = ({ onContinue, showError, entryData, setEntryData }) => {\r\n  const { t } = useTranslation();\r\n  const [isCheckingConsultationData, setIsCheckingConsultationData] = useState(false);\r\n\r\n  const localOnContinue = (values: any) => {\r\n    setIsCheckingConsultationData(true);\r\n\r\n    setTimeout(() => {\r\n      if (!values.consultationDate || !values.ref) {\r\n        showError(t(\"Empty fields\"), t(\"Please fill all fields first.\"));\r\n        setIsCheckingConsultationData(false);\r\n        return;\r\n      }\r\n\r\n      EntryService.checkConsultationData(values)\r\n        .then(res => {\r\n          const { isConsultationRegistered } = res.data;\r\n\r\n          if (!isConsultationRegistered) {\r\n            showError(\r\n              t(\"Consultation not found\"),\r\n              t(\"No consultation registered with this data.\")\r\n            );\r\n            setIsCheckingConsultationData(false);\r\n            return;\r\n          }\r\n\r\n          setEntryData({ ...entryData, consultationData: values });\r\n          onContinue();\r\n        })\r\n        .catch(err => {\r\n          showError(t(\"Error Occured\"), t(\"Something went wrong.\"));\r\n          setIsCheckingConsultationData(false);\r\n        });\r\n    }, 500);\r\n  };\r\n\r\n  return (\r\n    <Form onSubmit={values => localOnContinue(values)} style={{ marginTop: \"1.5rem\" }}>\r\n      {({ formState, values, formApi }) => (\r\n        <>\r\n          <Form.DatePicker\r\n            field=\"consultationDate\"\r\n            label={t(\"Consultation date:\")}\r\n            placeholder={t(\"Select consultation date\")}\r\n            format=\"dd-MM-yyyy\"\r\n            fieldStyle={{ padding: \".25rem 0\", maxWidth: \"300px\" }}\r\n          />\r\n\r\n          <Form.InputNumber\r\n            field=\"ref\"\r\n            label={t(\"Reference\") + \":\"}\r\n            placeholder={t(\"Enter the reference\") as string}\r\n            fieldStyle={{ padding: \".25rem 0\", maxWidth: \"300px\" }}\r\n          // fieldStyle={{ padding: 0, margin: 0 }}\r\n          />\r\n\r\n          <div className=\"step-btns\">\r\n            <Button\r\n              htmlType=\"submit\"\r\n              size=\"large\"\r\n              style={{ marginTop: \".5rem\", display: \"block\" }}\r\n              loading={isCheckingConsultationData}\r\n            >\r\n              {t(\"Continue\")}\r\n            </Button>\r\n\r\n            <Button\r\n              theme=\"borderless\"\r\n              htmlType=\"reset\"\r\n              size=\"large\"\r\n              style={{ marginTop: \".5rem\", padding: \"0\", background: \"none\" }}\r\n            >\r\n              {t(\"Reset\")}\r\n            </Button>\r\n          </div>\r\n        </>\r\n      )}\r\n    </Form>\r\n  );\r\n};\r\n\r\nexport default Step1;\r\n","import { FunctionComponent, useState } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { Form, Button } from \"@douyinfe/semi-ui\";\r\n\r\ninterface Step2Props {\r\n  onContinue: any;\r\n  onGoBack: any;\r\n  showError: (title: string, content: string) => void;\r\n  entryData: any;\r\n  setEntryData: any;\r\n}\r\n\r\nconst Step2: FunctionComponent<Step2Props> = ({ onContinue, onGoBack, showError, entryData, setEntryData }) => {\r\n  const { t } = useTranslation();\r\n  const [isCheckingFormData, setIsCheckingFormData] = useState(false);\r\n\r\n  const localOnContinue = (values: any) => {\r\n    setIsCheckingFormData(true);\r\n\r\n    setTimeout(() => {\r\n      if (!values.cnamCode || !values.drName) {\r\n        showError(t(\"Empty fields\"), t(\"Please fill all fields first.\"));\r\n        setIsCheckingFormData(false);\r\n        return;\r\n      }\r\n\r\n      setEntryData({ ...entryData, drData: values });\r\n      onContinue();\r\n    }, 500);\r\n  };\r\n\r\n  return (\r\n    <Form onSubmit={values => localOnContinue(values)} style={{ marginTop: \"1.5rem\" }}>\r\n      {({ formState, values, formApi }) => (\r\n        <>\r\n          <Form.InputNumber\r\n            field=\"cnamCode\"\r\n            label={t(\"CNAM Code:\")}\r\n            placeholder={t(\"Enter CNAM code\")}\r\n            fieldStyle={{ padding: \".25rem 0\", maxWidth: \"300px\" }}\r\n          />\r\n\r\n          <Form.Input\r\n            field=\"drName\"\r\n            label={t(\"Doctor (firstname and lastname):\")}\r\n            placeholder={t(\"Enter doctor's firstname and lastname\") as string}\r\n            fieldStyle={{ padding: \".25rem 0\", maxWidth: \"300px\" }}\r\n          />\r\n\r\n          <div className=\"step-btns\">\r\n            <Button\r\n              htmlType=\"submit\"\r\n              size=\"large\"\r\n              style={{ marginTop: \".5rem\", display: \"block\" }}\r\n              loading={isCheckingFormData}\r\n            >\r\n              {t(\"Continue\")}\r\n            </Button>\r\n\r\n            <Button\r\n              theme=\"borderless\"\r\n              size=\"large\"\r\n              style={{ marginTop: \".5rem\", padding: \"0\", background: \"none\" }}\r\n              onClick={onGoBack}\r\n            >\r\n              {t(\"Go Back\")}\r\n            </Button>\r\n\r\n            <Button\r\n              theme=\"borderless\"\r\n              htmlType=\"reset\"\r\n              size=\"large\"\r\n              style={{ marginTop: \".5rem\", padding: \"0\", background: \"none\" }}\r\n            >\r\n              {t(\"Reset\")}\r\n            </Button>\r\n          </div>\r\n        </>\r\n      )}\r\n    </Form>\r\n  );\r\n};\r\n\r\nexport default Step2;\r\n","export const getThemeFromLocalStorage = () => {\r\n  let isDarkTheme = false;\r\n  if (localStorage.getItem(\"selectedTheme\") === \"dark\") isDarkTheme = true;\r\n  else if (document.body.getAttribute(\"theme-mode\") === \"dark\")\r\n    isDarkTheme = true;\r\n\r\n  return isDarkTheme;\r\n};\r\n\r\nexport const saveThemeInLocalStorage = (isDarkTheme: boolean) => {\r\n  localStorage.setItem(\"selectedTheme\", isDarkTheme ? \"dark\" : \"light\");\r\n};\r\n\r\nexport const getSelectedLangFromLocalStorage = () => {\r\n  return localStorage.getItem(\"selectedLang\") || \"fr\";\r\n};\r\n\r\nexport const saveSelectedLangInLocalStorage = (selectedLang: string) => {\r\n  return localStorage.setItem(\"selectedLang\", selectedLang);\r\n};\r\n\r\nexport const getRegularDateStr = (date: Date): undefined | string => {\r\n  const tempDate = new Date(date);\r\n  if (tempDate.toString() !== \"Invalid Date\")\r\n    return `${tempDate.getDate().toString().padStart(2, \"0\")}-${(\r\n      tempDate.getMonth() + 1\r\n    )\r\n      .toString()\r\n      .padStart(2, \"0\")}-${tempDate.getFullYear()}`;\r\n};\r\n\r\nconst calculateSum = (arr: [number]): number => {\r\n  return arr.reduce((a, b) => a + b, 0);\r\n};\r\n\r\nconst exceeds60Days = (consultationDate: Date) => {\r\n  const today = new Date();\r\n  today.setHours(0, 0, 0, 0);\r\n  // 60 Days * 24 Hours * 60 Minutes * 60 Seconds * 1000 Ms = 5184000000 Ms\r\n  return today.getTime() - consultationDate.getTime() > 5184000000;\r\n};\r\n\r\nexport const getEntryRes = (finalEntryData: any) => {\r\n  if (exceeds60Days(finalEntryData.consultationData.consultationDate))\r\n    return {\r\n      status: \"Rejected\",\r\n      reason: \"Consultation date exceeds 60 Days.\",\r\n    };\r\n\r\n  const totalMedsAndAnaylyzes = calculateSum(\r\n    finalEntryData.medsAndAnaylizesData.map((el: any) => +el.price)\r\n  );\r\n\r\n  return totalMedsAndAnaylyzes > 200\r\n    ? {\r\n        status: \"Medical check up\",\r\n        reason: \"Total prices are more than the limit (200 TND).\",\r\n      }\r\n    : { status: \"Accepted\" };\r\n};\r\n","import { FunctionComponent } from \"react\";\r\nimport { Table, Button } from \"@douyinfe/semi-ui\";\r\nimport { IconDelete } from \"@douyinfe/semi-icons\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { getRegularDateStr } from \"../../utils/funcs\";\r\n\r\ninterface MedsAndAnaylizesTableProps {\r\n  tableRows: any;\r\n  setTableRows: any;\r\n}\r\n\r\nconst MedsAndAnaylizesTable: FunctionComponent<MedsAndAnaylizesTableProps> = ({ tableRows, setTableRows }) => {\r\n  const { t } = useTranslation();\r\n\r\n  const columns = [\r\n    {\r\n      title: t(\"Code\"),\r\n      dataIndex: \"codeMedOrAnalysis\",\r\n      render: (codeMedOrAnalysis: string) => <span>{codeMedOrAnalysis}</span>,\r\n    },\r\n    {\r\n      title: t(\"Med/Analysis Name\"),\r\n      dataIndex: \"name\",\r\n    },\r\n    {\r\n      title: t(\"Purchase Date\"),\r\n      dataIndex: \"purchaseDate\",\r\n      render: (text: Date) => <span>{getRegularDateStr(text)}</span>,\r\n    },\r\n    {\r\n      title: t(\"Pharmacy/Labo Nb\"),\r\n      dataIndex: \"pharmacyOrLaboNb\",\r\n    },\r\n    {\r\n      title: t(\"Price\"),\r\n      dataIndex: \"price\",\r\n      render: (price: string) => <span>{price} {t(\"TND\")}</span>,\r\n    },\r\n    {\r\n      title: t(\"More\"),\r\n      render: (_text: string, record: any) => (\r\n        <Button icon={<IconDelete />} theme=\"borderless\" onClick={() => removeRecord(record.key)} />\r\n      ),\r\n    },\r\n  ];\r\n\r\n  const removeRecord = (key: any) => {\r\n    const tempTableRows: any = [...tableRows];\r\n\r\n    if (key != null) {\r\n      const idx: any = tempTableRows.findIndex((data: any) => data.key === key);\r\n      // console.log(key, currDataSource, idx);\r\n\r\n      if (idx > -1) {\r\n        tempTableRows.splice(idx, 1);\r\n        setTableRows(tempTableRows);\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Table columns={columns} dataSource={tableRows} pagination={false} className=\"table-cmpnt\" />\r\n  );\r\n};\r\n\r\nexport default MedsAndAnaylizesTable;\r\n","import { FunctionComponent, useState } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { nanoid } from \"nanoid\";\r\nimport { Form, Button, Space, Typography } from \"@douyinfe/semi-ui\";\r\n\r\ninterface AddRowPopoverContentProps {\r\n  handleAddNewRow: (values: any) => void;\r\n  onClose: () => void;\r\n}\r\n\r\nconst AddRowPopoverContent: FunctionComponent<AddRowPopoverContentProps> = ({\r\n  handleAddNewRow,\r\n  onClose\r\n}) => {\r\n  const { Text } = Typography;\r\n  const { t } = useTranslation();\r\n  const [isSaving, setIsSaving] = useState(false);\r\n  const [isWarningVisible, setIsWarningVisible] = useState(false);\r\n\r\n  const localHandleAddNewRow = (values: any) => {\r\n    setIsSaving(true);\r\n    setIsWarningVisible(false);\r\n    setTimeout(() => {\r\n      if (\r\n        !values.codeMedOrAnalysis ||\r\n        !values.name ||\r\n        !values.purchaseDate ||\r\n        !values.pharmacyOrLaboNb ||\r\n        !values.price\r\n      ) {\r\n        setIsSaving(false);\r\n        setIsWarningVisible(true);\r\n        return;\r\n      }\r\n\r\n      values.key = nanoid();\r\n      handleAddNewRow(values);\r\n      onClose();\r\n    }, 500);\r\n  };\r\n\r\n  return <div style={{ padding: \".1rem\" }}>\r\n    <Form onSubmit={values => localHandleAddNewRow(values)}>\r\n      {({ formState, values, formApi }) => (\r\n        <>\r\n          <Form.Input\r\n            field=\"name\"\r\n            placeholder={t(\"Enter med or analysis name\") as string}\r\n            fieldStyle={{ padding: \".25rem 0\", maxWidth: \"300px\" }}\r\n            noLabel\r\n          />\r\n\r\n          <Space spacing=\"tight\">\r\n            <Form.InputNumber\r\n              field=\"codeMedOrAnalysis\"\r\n              placeholder={t(\"Enter code\") as string}\r\n              fieldStyle={{ padding: \".25rem 0\", maxWidth: \"300px\" }}\r\n              noLabel\r\n            />\r\n            <Form.DatePicker\r\n              field=\"purchaseDate\"\r\n              className=\"purchase-date-from-popover\"\r\n              placeholder={t(\"Select purchase date\")}\r\n              format=\"dd-MM-yyyy\"\r\n              fieldStyle={{ padding: \".25rem 0\", maxWidth: \"300px\" }}\r\n              noLabel\r\n            />\r\n          </Space><br />\r\n\r\n          <Space spacing=\"tight\">\r\n            <Form.InputNumber\r\n              field=\"pharmacyOrLaboNb\"\r\n              placeholder={t(\"Enter pharmacy/labo nb..\") as string}\r\n              fieldStyle={{ padding: \".25rem 0\", maxWidth: \"300px\" }}\r\n              noLabel\r\n            />\r\n\r\n            <Form.InputNumber\r\n              field=\"price\"\r\n              placeholder={t(\"Enter price\") as string}\r\n              fieldStyle={{ padding: \".25rem 0\", maxWidth: \"300px\" }}\r\n              noLabel\r\n            />\r\n          </Space>\r\n\r\n          <div className=\"step-btns\" style={{ alignItems: \"center\" }}>\r\n            <Button\r\n              htmlType=\"submit\"\r\n              loading={isSaving}\r\n              type=\"primary\"\r\n              style={{ marginTop: \".5rem\", padding: \"1.175rem .75rem\" }}>\r\n              {t(\"Add\")}\r\n            </Button>\r\n\r\n            <Button\r\n              theme=\"borderless\"\r\n              htmlType=\"reset\"\r\n              style={{ marginTop: \".5rem\", padding: \"0\", background: \"none\" }}\r\n              onClick={onClose}\r\n            >\r\n              {t(\"Cancel\")}\r\n            </Button>\r\n\r\n            {isWarningVisible &&\r\n              <Text type=\"quaternary\" style={{ transform: \"translateY(4px)\" }}>{t(\"Please fill all fields.\")}</Text>}\r\n          </div>\r\n        </>\r\n      )}\r\n    </Form>\r\n  </div>;\r\n};\r\n\r\nexport default AddRowPopoverContent;\r\n","import { FunctionComponent, useState } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { Button, Popover } from \"@douyinfe/semi-ui\";\r\nimport MedsAndAnaylizesTable from \"./MedsAndAnaylizesTable\";\r\nimport AddRowPopoverContent from \"./AddRowPopoverContent\";\r\n\r\ninterface Step3Props {\r\n  onConfirm: any;\r\n  onGoBack: any;\r\n  showError: (title: string, content: string) => void;\r\n  entryData: any;\r\n  setEntryData: any;\r\n}\r\n\r\nconst Step3: FunctionComponent<Step3Props> = ({ onConfirm, onGoBack, showError, entryData, setEntryData }) => {\r\n  const { t } = useTranslation();\r\n  const [tableRows, setTableRows] = useState<any>([]);\r\n  const [isPopoverVisible, setIsPopoverVisible] = useState(false);\r\n  const [isDeletingAll, setIsDeletingAll] = useState(false);\r\n  const [isCheckingTableRows, setIsCheckingTableRows] = useState(false);\r\n\r\n  const localOnConfirm = () => {\r\n    setIsCheckingTableRows(true);\r\n\r\n    setTimeout(() => {\r\n      if (!tableRows.length) {\r\n        showError(t(\"Table is empty\"), t(\"Fill the table first.\"));\r\n        setIsCheckingTableRows(false);\r\n        return;\r\n      }\r\n\r\n      const finalEntryData = { ...entryData, medsAndAnaylizesData: tableRows };\r\n      setEntryData(finalEntryData);\r\n      setIsCheckingTableRows(false);\r\n      onConfirm(finalEntryData);\r\n    }, 500);\r\n  };\r\n\r\n  const handleDeleteAll = () => {\r\n    setIsDeletingAll(true);\r\n\r\n    setTimeout(() => {\r\n      if (tableRows.length === 0)\r\n        showError(t(\"Table contains no rows\"), t(\"Nothing to be deleted.\"));\r\n\r\n      setTableRows([]);\r\n      setIsDeletingAll(false);\r\n    }, 500);\r\n  };\r\n\r\n  const handleShowPopover = () => setIsPopoverVisible(currIsPopoverVisible => !currIsPopoverVisible);\r\n\r\n  // tslint:disable-next-line: no-empty\r\n  const handleAddNewRow = (values: any) => {\r\n    setTableRows([...tableRows, values]);\r\n  };\r\n\r\n  return <div style={{ marginTop: \"1.5rem\" }}>\r\n    <MedsAndAnaylizesTable tableRows={tableRows} setTableRows={setTableRows} />\r\n\r\n    <div className=\"step-btns\" style={{ marginTop: \".25rem\" }}>\r\n      <Button\r\n        htmlType=\"submit\"\r\n        size=\"large\"\r\n        style={{ marginTop: \".5rem\", display: \"block\" }}\r\n        onClick={localOnConfirm}\r\n        loading={isCheckingTableRows}\r\n        theme=\"solid\"\r\n        type=\"tertiary\"\r\n      >\r\n        {t(\"Validate\")}\r\n      </Button>\r\n\r\n      <Button\r\n        theme=\"borderless\"\r\n        size=\"large\"\r\n        style={{ marginTop: \".5rem\", padding: \"0\", background: \"none\" }}\r\n        onClick={onGoBack}\r\n      >\r\n        {t(\"Go Back\")}\r\n      </Button>\r\n\r\n      <Popover\r\n        visible={isPopoverVisible}\r\n        content={<AddRowPopoverContent\r\n          handleAddNewRow={handleAddNewRow}\r\n          onClose={() => setIsPopoverVisible(false)}\r\n        />}\r\n        trigger=\"custom\"\r\n        showArrow\r\n        arrowPointAtCenter={false}\r\n        position=\"bottomLeft\"\r\n      >\r\n        <Button\r\n          theme=\"borderless\"\r\n          size=\"large\"\r\n          style={{ marginTop: \".5rem\", padding: \"0\", background: \"none\" }}\r\n          onClick={handleShowPopover}\r\n        >\r\n          {t(\"Add New Row\")}\r\n        </Button>\r\n      </Popover>\r\n\r\n      <Button\r\n        theme=\"borderless\"\r\n        size=\"large\"\r\n        style={{ marginTop: \".5rem\", padding: \"0\", background: \"none\" }}\r\n        onClick={handleDeleteAll}\r\n        loading={isDeletingAll}\r\n      >\r\n        {t(\"Delete All\")}\r\n      </Button>\r\n    </div>\r\n  </div>;\r\n};\r\n\r\n// tslint:disable-next-line: max-file-line-count\r\nexport default Step3;\r\n","import { FunctionComponent } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { Button, Modal, Typography } from \"@douyinfe/semi-ui\";\r\nimport { IconTickCircle } from \"@douyinfe/semi-icons\";\r\n\r\ninterface EntryResProps {\r\n  isVisible: any;\r\n  onClose: () => void;\r\n  entryData: any;\r\n}\r\n\r\nconst EntryResModal: FunctionComponent<EntryResProps> = ({ entryData, isVisible, onClose }) => {\r\n  const { Text } = Typography;\r\n  const { t } = useTranslation();\r\n\r\n  const footer = (\r\n    <Button type=\"primary\" theme=\"solid\" onClick={onClose}>{t(\"OK\")}</Button>\r\n  );\r\n\r\n  return (\r\n    <Modal\r\n      title={t(\"Saved successfully\")}\r\n      visible={isVisible}\r\n      maskClosable={false}\r\n      closeIcon={<></>}\r\n      footer={footer}\r\n      icon={<IconTickCircle size=\"extra-large\" style={{ color: \"var(--semi-color-success)\" }} />}\r\n      className=\"info-modal\"\r\n    >\r\n      {entryData.res &&\r\n        <>\r\n          <Text type=\"danger\">{t(\"Result\")}: <span>{t(entryData.res.status)}</span></Text><br />\r\n          {entryData.res.reason &&\r\n            <Text type=\"danger\">{t(\"Reason\")}: <span>{t(entryData.res.reason)}</span></Text>}\r\n        </>\r\n      }\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default EntryResModal;\r\n","import { FunctionComponent, useState, useEffect } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { useHistory } from \"react-router\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Typography, Steps } from \"@douyinfe/semi-ui\";\r\nimport { RootState } from \"../store/reducers\";\r\nimport Step1 from \"../components/DataEntry/Step1\";\r\nimport Step2 from \"../components/DataEntry/Step2\";\r\nimport Step3 from \"../components/DataEntry/Step3\";\r\nimport EntryService from \"../services/EntryService\";\r\nimport EntryResModal from \"../components/DataEntry/EntryResModal\";\r\nimport { getEntryRes } from \"../utils/funcs\";\r\n\r\ninterface DataEntryProps {\r\n  showError: (title: string, content: string) => void;\r\n}\r\n\r\nconst DataEntry: FunctionComponent<DataEntryProps> = ({ showError }) => {\r\n  const { Title } = Typography;\r\n  const { t } = useTranslation();\r\n  const history = useHistory();\r\n  const accessToken = useSelector((store: RootState) => store.global.accessToken);\r\n  const [currentStep, setCurrentStep] = useState(0);\r\n  const [entryData, setEntryData] = useState<any>({\r\n    consultationData: null,\r\n    drData: null,\r\n    medsAndAnaylizesData: null,\r\n    res: null\r\n  });\r\n  const [isEntryResModalVisible, setIsEntryResModalVisible] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (!accessToken)\r\n      history.push(\"/login\");\r\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  const handleConfirm = (finalEntryData: any) => {\r\n    const tempEntryData = { ...finalEntryData, res: getEntryRes(finalEntryData) };\r\n    EntryService.saveEntryData(tempEntryData)\r\n      .then((_res) => {\r\n        setEntryData(tempEntryData);\r\n        setIsEntryResModalVisible(true);\r\n      })\r\n      .catch((_err) => {\r\n        showError(t(\"Error Occured\"), t(\"Something went wrong.\"));\r\n      });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Title heading={3} style={{ margin: \"2rem 0 1rem\" }}>{t(\"Entry\")}</Title>\r\n\r\n      <div style={{ display: \"flex\", flexWrap: \"wrap\" }} className=\"entry-steps\">\r\n        <Steps type=\"nav\" current={currentStep} style={{ margin: \"auto\", flexWrap: \"wrap\" }}>\r\n          <Steps.Step title={t(\"Consultation data\")} />\r\n          <Steps.Step title={t(\"Doctor data\")} />\r\n          <Steps.Step title={t(\"List of meds and analyzes\")} />\r\n        </Steps>\r\n      </div>\r\n\r\n      {currentStep === 0 &&\r\n        <Step1\r\n          onContinue={() => setCurrentStep(() => currentStep + 1)}\r\n          showError={showError}\r\n          entryData={entryData}\r\n          setEntryData={setEntryData}\r\n        />\r\n      }\r\n\r\n      {currentStep === 1 &&\r\n        <Step2\r\n          onContinue={() => setCurrentStep(() => currentStep + 1)}\r\n          onGoBack={() => setCurrentStep(() => currentStep - 1)}\r\n          showError={showError}\r\n          entryData={entryData}\r\n          setEntryData={setEntryData}\r\n        />\r\n      }\r\n\r\n      {currentStep === 2 &&\r\n        <Step3\r\n          onConfirm={handleConfirm}\r\n          onGoBack={() => setCurrentStep(() => currentStep - 1)}\r\n          showError={showError}\r\n          entryData={entryData}\r\n          setEntryData={setEntryData}\r\n        />\r\n      }\r\n\r\n      {isEntryResModalVisible &&\r\n        <EntryResModal\r\n          entryData={entryData}\r\n          isVisible={isEntryResModalVisible}\r\n          onClose={() => {\r\n            setIsEntryResModalVisible(false);\r\n            setCurrentStep(0);\r\n          }}\r\n        />\r\n      }\r\n    </>\r\n  );\r\n};\r\n\r\nexport default DataEntry;\r\n","import { FunctionComponent } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { Button, Collapse, Modal, Typography } from \"@douyinfe/semi-ui\";\r\nimport { IconTickCircle } from \"@douyinfe/semi-icons\";\r\nimport { getRegularDateStr } from \"../../utils/funcs\";\r\n\r\ninterface RefResProps {\r\n  refRes: any;\r\n  isVisible: any;\r\n  onClose: () => void;\r\n}\r\n\r\nconst RefResModal: FunctionComponent<RefResProps> = ({ refRes, isVisible, onClose }) => {\r\n  const { Text } = Typography;\r\n  const { t } = useTranslation();\r\n\r\n  const footer = (\r\n    <Button type=\"primary\" theme=\"solid\" onClick={onClose}>{t(\"OK\")}</Button>\r\n  );\r\n\r\n  return (\r\n    <Modal\r\n      title={t(\"Saved successfully\")}\r\n      visible={isVisible}\r\n      maskClosable={false}\r\n      closeIcon={<></>}\r\n      footer={footer}\r\n      icon={<IconTickCircle size=\"extra-large\" style={{ color: \"var(--semi-color-success)\" }} />}\r\n      className=\"info-modal\"\r\n    >\r\n      <Text type=\"danger\">{t(\"Reference\")}: <span style={{ userSelect: \"all\" }}>{refRes?.ref}</span></Text><br />\r\n      <Text type=\"danger\">\r\n        {t(\"Referencing date\")}: <span style={{ userSelect: \"all\" }}>\r\n          {isVisible && getRegularDateStr(refRes?.refDate)}\r\n        </span>\r\n      </Text>\r\n\r\n      <Collapse style={{ marginTop: \".75rem\", transform: \"translateX(-1rem)\" }}>\r\n        <Collapse.Panel header={t(\"Patient details\")} itemKey=\"1\">\r\n          <p>{t(\"Belongs to:\")} {refRes?.belongsTo.toUpperCase()}</p>\r\n          <p>{t(\"CNSS/CNRPS Number:\")} {refRes?.belongsToNb}</p>\r\n          <p>{t(\"Firstname\")} {refRes?.firstname}</p>\r\n          <p>{t(\"Lastname\")} {refRes?.lastname}</p>\r\n          <p>{t(\"Consultation date:\")} {isVisible && getRegularDateStr(refRes?.consultationDate)}</p>\r\n        </Collapse.Panel>\r\n      </Collapse>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default RefResModal;\r\n","import axios from \"axios\";\r\nimport IRefReqData from \"../interfaces/IRefReqData\";\r\n\r\nexport default class RefService {\r\n  static baseRoute = \"/api/ref\";\r\n\r\n  static addRef(refFormData: IRefReqData) {\r\n    const accessToken = localStorage.getItem(\"accessToken\");\r\n\r\n    return axios.post(`${this.baseRoute}/`, refFormData, {\r\n      headers: { Authorization: accessToken },\r\n    });\r\n  }\r\n}\r\n","import { FunctionComponent, useState, useEffect } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { useHistory } from \"react-router\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Button, Form, Space, Typography, Radio } from \"@douyinfe/semi-ui\";\r\nimport RefResModal from \"../components/DataRef/RefResModal\";\r\nimport RefService from \"../services/RefService\";\r\nimport { RootState } from \"../store/reducers\";\r\n\r\ninterface DataEntryProps {\r\n  showError: (title: string, content: string) => void;\r\n}\r\n\r\nconst DataRef: FunctionComponent<DataEntryProps> = ({ showError }) => {\r\n  const { Title } = Typography;\r\n  const { t } = useTranslation();\r\n  const [isRefResModalVisible, setIsRefResModalVisible] = useState(false);\r\n  const [refRes, setRefRes] = useState<any>(null);\r\n  const history = useHistory();\r\n  const accessToken = useSelector((store: RootState) => store.global.accessToken);\r\n  const [isSaving, setIsSaving] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (!accessToken)\r\n      history.push(\"/login\");\r\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  const handleSubmit = (values: any) => {\r\n    setIsSaving(true);\r\n    const { belongsTo, belongsToNb, lastname, firstname, consultationDate } = values;\r\n\r\n    setTimeout(() => {\r\n      if (!belongsTo || !belongsToNb || !lastname || !firstname || !consultationDate) {\r\n        showError(t(\"Empty fields\"), t(\"Please fill all fields first.\"));\r\n        setIsSaving(false);\r\n        return;\r\n      }\r\n\r\n      RefService.addRef(values)\r\n        .then((res) => {\r\n          setIsRefResModalVisible(true);\r\n          setRefRes(res.data);\r\n        })\r\n        .catch((_err) => {\r\n          showError(t(\"Error Occured\"), t(\"Something went wrong.\"));\r\n        })\r\n        .finally(() => {\r\n          setIsSaving(false);\r\n        });\r\n    }, 500);\r\n  };\r\n\r\n  return (\r\n    <Form onSubmit={values => handleSubmit(values)} style={{ marginTop: \"2rem\" }} >\r\n      {({ formState, values, formApi }) => (\r\n        <>\r\n          <Title heading={3} style={{ margin: \"8px 0\" }}>{t(\"Referencing\")}</Title>\r\n\r\n          <Space spacing=\"loose\" style={{ marginTop: \"1rem\" }} >\r\n            <Form.RadioGroup\r\n              field=\"belongsTo\"\r\n              label={t(\"Belongs to:\")}\r\n              style={{ padding: \".25rem 0\" }}\r\n              fieldStyle={{ padding: 0, margin: 0 }}\r\n            >\r\n              <Radio value=\"cnss\">CNSS</Radio>\r\n              <Radio value=\"cnrps\" style={{ marginRight: \".5rem\" }}>CNRPS</Radio>\r\n            </Form.RadioGroup>\r\n\r\n            <Form.InputNumber\r\n              field=\"belongsToNb\"\r\n              label={t(\"CNSS/CNRPS Number:\")}\r\n              placeholder={t(\"Enter number..\") as string}\r\n              fieldStyle={{ padding: 0, margin: 0 }}\r\n            />\r\n          </Space>\r\n\r\n          <Form.Input\r\n            field=\"firstname\"\r\n            label={t(\"Firstname\")}\r\n            placeholder={t(\"Enter patient's firstname\") as string}\r\n            fieldStyle={{ padding: \".25rem 0\", maxWidth: \"300px\" }}\r\n          />\r\n\r\n          <Form.Input\r\n            field=\"lastname\"\r\n            label={t(\"Lastname\")}\r\n            placeholder={t(\"Enter patient's lastname\") as string}\r\n            fieldStyle={{ padding: \".25rem 0\", maxWidth: \"300px\" }}\r\n          />\r\n\r\n          <Form.DatePicker\r\n            field=\"consultationDate\"\r\n            label={t(\"Consultation date:\")}\r\n            placeholder={t(\"Select consultation date\")}\r\n            format=\"dd-MM-yyyy\"\r\n            fieldStyle={{ padding: \".25rem 0\", maxWidth: \"300px\" }}\r\n          />\r\n\r\n          <div className=\"step-btns\">\r\n            <Button htmlType=\"submit\" loading={isSaving} theme=\"solid\" type=\"tertiary\" size=\"large\" style={{ marginTop: \".5rem\" }}>\r\n              {t(\"Save\")}\r\n            </Button>\r\n\r\n            <Button\r\n              theme=\"borderless\"\r\n              htmlType=\"reset\" size=\"large\"\r\n              style={{ marginTop: \".5rem\", padding: \"0\", background: \"none\" }}\r\n            >\r\n              {t(\"Reset\")}\r\n            </Button>\r\n          </div>\r\n\r\n          {isRefResModalVisible &&\r\n            <RefResModal\r\n              refRes={refRes}\r\n              isVisible={isRefResModalVisible}\r\n              onClose={() => { setIsRefResModalVisible(false); }}\r\n            />\r\n          }\r\n        </>\r\n      )}\r\n    </Form>\r\n  );\r\n};\r\n\r\nexport default DataRef;\r\n","import { useState, useEffect, FunctionComponent } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Switch, Route, Redirect, useHistory } from \"react-router-dom\";\r\nimport { Card, Spin, Notification } from \"@douyinfe/semi-ui\";\r\nimport AppHeader from \"./common/AppHeader\";\r\nimport AuthService from \"./services/AuthService\";\r\nimport Login from \"./pages/Login\";\r\nimport DataEntry from \"./pages/DataEntry\";\r\nimport DataRef from \"./pages/DataRef\";\r\nimport { RootState } from \"./store/reducers\";\r\nimport { setAccessToken, setConnectedUser } from \"./store/actions/action-creators\";\r\nimport { getThemeFromLocalStorage } from \"./utils/funcs\";\r\n\r\n// TODO: ADD SOME SPACING\r\n// TODO: CHECK TRANSLATIONS\r\nconst App: FunctionComponent = () => {\r\n  const [isSpinning, setIsSpinning] = useState(true);\r\n  const selectedLang = useSelector((store: RootState) => store.global.selectedLang);\r\n  const { t } = useTranslation();\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  const showError = (title: string, content: string) => {\r\n    Notification.destroyAll();\r\n    Notification.error({\r\n      title,\r\n      content,\r\n      duration: 3,\r\n      position: \"bottom\"\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const accessToken = localStorage.getItem(\"accessToken\");\r\n    if (accessToken)\r\n      AuthService.verifyAccessToken(accessToken)\r\n        .then((res) => {\r\n          dispatch(setAccessToken(accessToken));\r\n          dispatch(setConnectedUser(res.data.user));\r\n          history.push(`/data-${res.data.user.service}`);\r\n        });\r\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  useEffect(() => {\r\n    initTheme();\r\n    setTimeout(() => {\r\n      setIsSpinning(false);\r\n    }, 3000);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    document.body.setAttribute(\"class\", selectedLang);\r\n  }, [selectedLang]);\r\n\r\n  const initTheme = () =>\r\n    getThemeFromLocalStorage() &&\r\n    document.body.setAttribute(\"theme-mode\", \"dark\");\r\n\r\n  return (\r\n    <Spin tip={t(\"Loading..\")} spinning={isSpinning}>\r\n      <Card\r\n        style={{\r\n          borderRadius: 0,\r\n          minHeight: \"100vh\"\r\n        }}\r\n        bodyStyle={{\r\n          padding: 0,\r\n        }}\r\n      >\r\n        <div className={`root-container ${selectedLang}`}>\r\n          <AppHeader />\r\n\r\n          {!isSpinning && (\r\n            <Switch>\r\n              <Route exact path=\"/\">\r\n                <Redirect to={{ pathname: \"/login\" }} />\r\n              </Route>\r\n              <Route exact path=\"/login\">\r\n                <Login showError={showError} />\r\n              </Route>\r\n              <Route exact path=\"/data-entry\">\r\n                <DataEntry showError={showError} />\r\n              </Route>\r\n              <Route exact path=\"/data-ref\">\r\n                <DataRef showError={showError} />\r\n              </Route>\r\n              <Route>\r\n                <Redirect to={{ pathname: \"/\" }} />\r\n              </Route>\r\n            </Switch>\r\n          )}\r\n        </div>\r\n      </Card>\r\n    </Spin>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import {\r\n  getThemeFromLocalStorage,\r\n  saveThemeInLocalStorage,\r\n  getSelectedLangFromLocalStorage,\r\n  saveSelectedLangInLocalStorage\r\n} from \"../../utils/funcs\";\r\nimport _ from \"../actions/action-types\";\r\n\r\nconst body = document.body;\r\n\r\nconst initialState = {\r\n  msg: \"Hello, World !\",\r\n  isDarkTheme: getThemeFromLocalStorage(),\r\n  selectedLang: getSelectedLangFromLocalStorage(),\r\n  accessToken: null,\r\n  connectedUser: null\r\n};\r\n\r\ninterface IAction {\r\n  type: string;\r\n  payload: any;\r\n}\r\n\r\nconst globalReducer = (state = initialState, action: IAction) => {\r\n  const { type, payload } = action;\r\n\r\n  switch (type) {\r\n    case _.SET_MSG:\r\n      return { ...state, msg: payload };\r\n\r\n    case _.SET_IS_DARK_THEME:\r\n      if (payload) {\r\n        body.setAttribute(\"theme-mode\", \"dark\");\r\n        saveThemeInLocalStorage(true);\r\n      } else {\r\n        body.removeAttribute(\"theme-mode\");\r\n        saveThemeInLocalStorage(false);\r\n      }\r\n\r\n      return { ...state, isDarkTheme: payload };\r\n\r\n    case _.SET_SELECTED_LANG:\r\n      saveSelectedLangInLocalStorage(payload);\r\n      return { ...state, selectedLang: payload };\r\n\r\n    case _.SET_ACCESS_TOKEN:\r\n      return { ...state, accessToken: payload };\r\n\r\n      case _.SET_CONNECTED_USER:\r\n      return { ...state, connectedUser: payload };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default globalReducer;\r\n","import { combineReducers } from \"redux\";\r\nimport globalReducer from \"./global.reducer\";\r\n\r\nexport const rootReducers = combineReducers({\r\n  global: globalReducer,\r\n});\r\n\r\nexport type RootState = ReturnType<typeof rootReducers>;\r\n","// // @ts-nocheck\r\n// // @ts-ignore\r\n// // @ts-enable\r\nimport { createStore } from \"redux\";\r\nimport { composeWithDevTools } from \"redux-devtools-extension\";\r\nimport { rootReducers } from \"./reducers\";\r\n\r\nexport const store = createStore(rootReducers, composeWithDevTools());\r\n","const reportWebVitals = (onPerfEntry?: any) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\n// const reportWebVitals = () => {};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.scss\";\nimport App from \"./App\";\nimport { Provider } from \"react-redux\";\nimport { store } from \"./store\";\nimport reportWebVitals from \"./reportWebVitals\";\n// import axios from \"axios\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport en_US from \"@douyinfe/semi-ui/lib/es/locale/source/en_US\";\nimport { LocaleProvider } from \"@douyinfe/semi-ui\";\n\n// axios.defaults.baseURL = \"http://127.0.0.1:4000\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <Router>\n        <LocaleProvider locale={en_US}>\n          <App />\n        </LocaleProvider>\n      </Router>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\nreportWebVitals();\n"],"sourceRoot":""}